var y=Object.defineProperty,F=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var g=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var j=(o,e,s)=>e in o?y(o,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[e]=s,i=(o,e)=>{for(var s in e||(e={}))g.call(e,s)&&j(o,s,e[s]);if(x)for(var s of x(e))R.call(e,s)&&j(o,s,e[s]);return o},m=(o,e)=>F(o,P(e));var p=(o,e,s)=>new Promise((c,a)=>{var t=n=>{try{l(s.next(n))}catch(u){a(u)}},d=n=>{try{l(s.throw(n))}catch(u){a(u)}},l=n=>n.done?c(n.value):Promise.resolve(n.value).then(t,d);l((s=s.apply(o,e)).next())});import{b3 as E,am as N,v as I,T as L,bH as O,z as T,b4 as k,b5 as A,j as r,b6 as C,b7 as h,b8 as f,b9 as b,ba as v,bc as w,bd as q,q as z}from"./index-DCFn-PJE.js";import{A as B}from"./AuthLayout-BUFkal1Y.js";import{c as G}from"./schemas-CovbQ7JT.js";import{P as S}from"./PassInputWithToggle-DbvdXZTE.js";import"./react-DaZ2_hLt.js";import"./schemas-DolQb7Cl.js";import"./ParallaxContainer-D5BA858C.js";import"./card-CHZCReWc.js";function H(o,e,s){return p(this,null,function*(){try{return yield E.account.updateRecovery(e,s,o.password),N("Пароль успешно обновлён"),{ok:!0}}catch(c){return I("Невозможно восстановить пароль"),L(c)}})}function M(){const[o]=O(),{userId:e,secret:s}=Object.fromEntries(o),c=T(),a=k({resolver:A(G),defaultValues:{password:"",confirmPassword:""}});return r.jsx(C,m(i({},a),{children:r.jsxs("form",{className:"space-y-6",onSubmit:a.handleSubmit(t=>p(null,null,function*(){const{ok:d}=yield H(t,e,s);d&&c(z.LOGIN)})),children:[r.jsx(h,{control:a.control,name:"password",render:({field:t})=>r.jsxs(f,{children:[r.jsxs(b,{htmlFor:"password",children:["Новый пароль",r.jsx("span",{className:"text-destructive",children:"*"})]}),r.jsx(v,{children:r.jsx(S,m(i({},t),{id:"password"}))}),r.jsx(w,{})]})}),r.jsx(h,{control:a.control,name:"confirmPassword",render:({field:t})=>r.jsxs(f,{children:[r.jsxs(b,{htmlFor:"confirmPassword",children:["Повторите пароль",r.jsx("span",{className:"text-destructive",children:"*"})]}),r.jsx(v,{children:r.jsx(S,m(i({},t),{id:"password"}))}),r.jsx(w,{})]})}),r.jsx(q,{isSubmitting:a.formState.isSubmitting,text:"Сохранить"})]})}))}function U(){return r.jsx(B,{title:"Восстановление пароля",description:"Придумайте новый пароль для восстановления доступа к аккаунту",form:r.jsx(M,{})})}const _=U;export{_ as Component};
