var mn=Object.defineProperty,yn=Object.defineProperties;var gn=Object.getOwnPropertyDescriptors;var Oe=Object.getOwnPropertySymbols;var et=Object.prototype.hasOwnProperty,tt=Object.prototype.propertyIsEnumerable;var Qe=(e,t,n)=>t in e?mn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,y=(e,t)=>{for(var n in t||(t={}))et.call(t,n)&&Qe(e,n,t[n]);if(Oe)for(var n of Oe(t))tt.call(t,n)&&Qe(e,n,t[n]);return e},z=(e,t)=>yn(e,gn(t));var $=(e,t)=>{var n={};for(var s in e)et.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&Oe)for(var s of Oe(e))t.indexOf(s)<0&&tt.call(e,s)&&(n[s]=e[s]);return n};var q=(e,t,n)=>new Promise((s,r)=>{var a=l=>{try{o(n.next(l))}catch(d){r(d)}},i=l=>{try{o(n.throw(l))}catch(d){r(d)}},o=l=>l.done?s(l.value):Promise.resolve(l.value).then(a,i);o((n=n.apply(e,t)).next())});import{c as $e,r as w,a as Se,d as Fe,h as ge,n as nt,b as Be,u as ut,e as ft,j as c,F as ht,f as ie,g as le,i as ce,k as de,I as mt,l as ae,S as yt,R as g,m as _,C as pn,o as vn,p as gt,q as st,B as fe,L as pt,U as vt,T as xn,s as kn,X as bn,t as wn,v as Mn,w as Dn,P as Nn,x as On,y as Sn,z as Cn,A as Wn,D as jn,E as _n,G as En,H as Tn}from"./index-C1B6Ma5q.js";import{E as Yn}from"./ErrorMessage-DgxmWxSy.js";import{P as rt}from"./PassInputWithToggle-sr4UjFia.js";import{b as Fn,u as Bn}from"./schemas-DolQb7Cl.js";import{t as P,c as V,n as xe,s as He,g as Pn,d as In,f as zn,a as An,b as Hn,i as Rn,e as $n,h as Un,j as qn,k as xt,r as Zn}from"./ru-DjLZO0yZ.js";import{i as Gn,u as Vn,a as Kn,C as Ln}from"./uploadToStorage-BCQHI0wI.js";import{c as Xn,L as Jn}from"./copyLink-B43BeaNc.js";import"./react-DaZ2_hLt.js";/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],es=$e("arrow-up-right",Qn);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ns=$e("camera",ts);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=[["path",{d:"M16 5h6",key:"1vod17"}],["path",{d:"M19 2v6",key:"4bpg5p"}],["path",{d:"M21 11.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7.5",key:"1ue2ih"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}]],rs=$e("image-plus",ss);function kt(e,t,n){const s=P(e,n==null?void 0:n.in);return isNaN(t)?V(e,NaN):(t&&s.setDate(s.getDate()+t),s)}function bt(e,t,n){const s=P(e,n==null?void 0:n.in);if(isNaN(t))return V(e,NaN);if(!t)return s;const r=s.getDate(),a=V(e,s.getTime());a.setMonth(s.getMonth()+t+1,0);const i=a.getDate();return r>=i?a:(s.setFullYear(a.getFullYear(),a.getMonth(),r),s)}function as(e,t,n){return kt(e,t*7,n)}function os(e,t,n){return bt(e,t*12,n)}function is(e,t){let n,s=t==null?void 0:t.in;return e.forEach(r=>{!s&&typeof r=="object"&&(s=V.bind(null,r));const a=P(r,s);(!n||n<a||isNaN(+a))&&(n=a)}),V(s,n||NaN)}function ls(e,t){let n,s=t==null?void 0:t.in;return e.forEach(r=>{!s&&typeof r=="object"&&(s=V.bind(null,r));const a=P(r,s);(!n||n>a||isNaN(+a))&&(n=a)}),V(s,n||NaN)}function cs(e,t,n){const[s,r]=xe(n==null?void 0:n.in,e,t);return+He(s)==+He(r)}function ds(e,t,n){const[s,r]=xe(n==null?void 0:n.in,e,t),a=s.getFullYear()-r.getFullYear(),i=s.getMonth()-r.getMonth();return a*12+i}function us(e,t){const n=P(e,t==null?void 0:t.in),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}function wt(e,t){const[n,s]=xe(e,t.start,t.end);return{start:n,end:s}}function fs(e,t){const{start:n,end:s}=wt(t==null?void 0:t.in,e);let r=+n>+s;const a=r?+n:+s,i=r?s:n;i.setHours(0,0,0,0),i.setDate(1);let o=1;const l=[];for(;+i<=a;)l.push(V(n,i)),i.setMonth(i.getMonth()+o);return r?l.reverse():l}function hs(e,t){const n=P(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function ms(e,t){const n=P(e,t==null?void 0:t.in),s=n.getFullYear();return n.setFullYear(s+1,0,0),n.setHours(23,59,59,999),n}function ys(e,t){const{start:n,end:s}=wt(t==null?void 0:t.in,e);let r=+n>+s;const a=r?+n:+s,i=r?s:n;i.setHours(0,0,0,0),i.setMonth(0,1);let o=1;const l=[];for(;+i<=a;)l.push(V(n,i)),i.setFullYear(i.getFullYear()+o);return r?l.reverse():l}function Mt(e,t){var o,l,d,u,f,m,p,k;const n=Pn(),s=(k=(p=(u=(d=t==null?void 0:t.weekStartsOn)!=null?d:(l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)!=null?u:n.weekStartsOn)!=null?p:(m=(f=n.locale)==null?void 0:f.options)==null?void 0:m.weekStartsOn)!=null?k:0,r=P(e,t==null?void 0:t.in),a=r.getDay(),i=(a<s?-7:0)+6-(a-s);return r.setDate(r.getDate()+i),r.setHours(23,59,59,999),r}function gs(e,t){return Mt(e,z(y({},t),{weekStartsOn:1}))}function ps(e,t){const n=P(e,t==null?void 0:t.in),s=n.getFullYear(),r=n.getMonth(),a=V(n,0);return a.setFullYear(s,r+1,0),a.setHours(0,0,0,0),a.getDate()}function vs(e,t){return P(e,t==null?void 0:t.in).getMonth()}function xs(e,t){return P(e,t==null?void 0:t.in).getFullYear()}function ks(e,t){return+P(e)>+P(t)}function bs(e,t){return+P(e)<+P(t)}function ws(e,t,n){const[s,r]=xe(n==null?void 0:n.in,e,t);return s.getFullYear()===r.getFullYear()&&s.getMonth()===r.getMonth()}function Ms(e,t,n){const[s,r]=xe(n==null?void 0:n.in,e,t);return s.getFullYear()===r.getFullYear()}function Ds(e,t,n){const s=P(e,n==null?void 0:n.in),r=s.getFullYear(),a=s.getDate(),i=V(e,0);i.setFullYear(r,t,15),i.setHours(0,0,0,0);const o=ps(i);return s.setMonth(t,Math.min(a,o)),s}function Ns(e,t,n){const s=P(e,n==null?void 0:n.in);return isNaN(+s)?V(e,NaN):(s.setFullYear(t),s)}function Dt(){const e=w.useCallback((i,o,l)=>q(null,null,function*(){try{return yield Se.account.updateEmail(i,o),yield Fe.users.update(l,{userEmail:i}),{ok:!0}}catch(d){return ge(d)}}),[]),t=w.useCallback(i=>q(null,null,function*(){try{return yield Se.account.updateName(i),{ok:!0}}catch(o){return ge(o)}}),[]),n=w.useCallback((i,o)=>q(null,null,function*(){try{return yield Fe.users.update(o,i),{ok:!0}}catch(l){return ge(l)}}),[]),s=w.useCallback((i,o)=>q(null,null,function*(){try{return yield Fe.users.update(o,{avatarURL:i}),{ok:!0}}catch(l){return ge(l)}}),[]),r=w.useCallback((i,o)=>q(null,null,function*(){try{return yield Se.account.updatePassword(i,o),{ok:!0}}catch(l){return ge(l)}}),[]),a=w.useCallback(()=>q(null,null,function*(){try{return yield Se.account.updateStatus(),{ok:!0}}catch(i){return ge(i)}}),[]);return{changeEmail:e,changeName:t,changeAvatar:s,changePassword:r,deleteProfile:a,changePersonalInfo:n}}function Nt(){const{changeEmail:e,changePassword:t,changeName:n,changePersonalInfo:s}=Dt(),r=w.useCallback((i,o,l)=>q(null,null,function*(){if(o.getFieldState("userEmail").isDirty){const{ok:d,errorType:u,errorMessage:f}=yield e(i.userEmail,i.oldPassword,l);if(!d){if(u==="user_password_mismatch")return o.setError("oldPassword",{type:"custom",message:f},{shouldFocus:!0});nt("Не удалось обновить данные");return}Be("Email успешно обновлён")}if(o.getFieldState("password").isDirty&&i.password){const{ok:d,errorMessage:u}=yield t(i.password,i.oldPassword);if(!d){o.setError("oldPassword",{type:"custom",message:u},{shouldFocus:!0});return}Be("Пароль успешно обновлён")}}),[e,t]),a=w.useCallback((i,o,l,d)=>q(null,null,function*(){let u;o.getFieldState("userName").isDirty&&(u=yield n(i.userName));const f=yield s(i,l);if(u&&!u.ok||!f.ok){nt("Не удалось обновить профиль");return}d(l,i),Be("Профиль успешно обновлён")}),[n,s]);return{saveAccountInfo:r,savePersonalInfo:a}}function Os({email:e,userDocumentId:t}){const n=ut({resolver:ft(Fn),mode:"onBlur",defaultValues:{userEmail:e,password:"",oldPassword:""}}),{isSubmitting:s,isDirty:r,isSubmitSuccessful:a}=n.formState,{saveAccountInfo:i}=Nt();return w.useEffect(()=>{n.reset(void 0,{keepDirtyValues:!1,keepValues:!0})},[a,n]),c.jsx(ht,z(y({},n),{children:c.jsxs("form",{onSubmit:n.handleSubmit(o=>q(null,null,function*(){return i(o,n,t)})),className:"flex flex-col gap-4 md:gap-6 mx-auto mt-3 md:mt-0 px-2 md:px-0 pb-2 w-full lg:max-w-3xl xl:max-w-4xl",children:[c.jsx("p",{className:"font-semibold text-xl lg:text-2xl",children:"Логин и пароль"}),c.jsx(ie,{control:n.control,name:"userEmail",render:({field:o})=>c.jsxs(le,{children:[c.jsx(ce,{className:"gap-1",htmlFor:"userEmail",children:"Логин"}),c.jsx(de,{children:c.jsx(mt,z(y({},o),{className:"text-sm md:text-base",id:"userEmail"}))}),c.jsx(ae,{})]})}),c.jsx(ie,{control:n.control,name:"password",render:({field:o})=>c.jsxs(le,{children:[c.jsx(ce,{htmlFor:"password",children:"Новый пароль"}),c.jsx(de,{children:c.jsx(rt,z(y({},o),{className:"text-sm md:text-base",id:"password"}))}),c.jsx(ae,{})]})}),r&&c.jsxs(c.Fragment,{children:[c.jsx(ae,{className:"text-muted-foreground",children:"Для подтверждения изменений введите текущий пароль:"}),c.jsx(ie,{control:n.control,name:"oldPassword",render:({field:o})=>c.jsxs(le,{children:[c.jsxs(ce,{htmlFor:"oldPassword",children:["Текущий пароль ",c.jsx("span",{className:"text-destructive",children:"*"})]}),c.jsx(de,{children:c.jsx(rt,z(y({},o),{className:"text-sm md:text-base",id:"oldPassword"}))}),c.jsx(ae,{})]})})]}),c.jsx("div",{className:"flex items-center gap-5",children:c.jsx(yt,{text:"Сохранить",loaderText:"Сохранение...",isSubmitting:s,isDirty:r,className:"w-fit"})})]})}))}function Ss(e,t,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:n}).format(t).split(/\s/g).slice(2).join(" ")}const Pe={},ve={};function ue(e,t){try{const s=(Pe[e]||(Pe[e]=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format))(t).split("GMT")[1];return s in ve?ve[s]:at(s,s.split(":"))}catch(n){if(e in ve)return ve[e];const s=e==null?void 0:e.match(Cs);return s?at(e,s.slice(1)):NaN}}const Cs=/([+-]\d\d):?(\d\d)?/;function at(e,t){const n=+(t[0]||0),s=+(t[1]||0),r=+(t[2]||0)/60;return ve[e]=n*60+s>0?n*60+s+r:n*60-s-r}class ee extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(ue(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),Ot(this),Re(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new ee(...n,t):new ee(Date.now(),t)}withTimeZone(t){return new ee(+this,t)}getTimezoneOffset(){const t=-ue(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),Re(this),+this}[Symbol.for("constructDateFrom")](t){return new ee(+new Date(t),this.timeZone)}}const ot=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!ot.test(e))return;const t=e.replace(ot,"$1UTC");ee.prototype[t]&&(e.startsWith("get")?ee.prototype[e]=function(){return this.internal[t]()}:(ee.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),Ws(this),+this},ee.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),Re(this),+this}))});function Re(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-ue(e.timeZone,e)*60))}function Ws(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),Ot(e)}function Ot(e){const t=ue(e.timeZone,e),n=t>0?Math.floor(t):Math.ceil(t),s=new Date(+e);s.setUTCHours(s.getUTCHours()-1);const r=-new Date(+e).getTimezoneOffset(),a=-new Date(+s).getTimezoneOffset(),i=r-a,o=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();i&&o&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+i);const l=r-n;l&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+l);const d=new Date(+e);d.setUTCSeconds(0);const u=r>0?d.getSeconds():(d.getSeconds()-60)%60,f=Math.round(-(ue(e.timeZone,e)*60))%60;(f||u)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+f),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+f+u));const m=ue(e.timeZone,e),p=m>0?Math.floor(m):Math.ceil(m),M=-new Date(+e).getTimezoneOffset()-p,b=p!==n,x=M-l;if(b&&x){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+x);const N=ue(e.timeZone,e),D=N>0?Math.floor(N):Math.ceil(N),T=p-D;T&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+T),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+T))}}class A extends ee{static tz(t,...n){return n.length?new A(...n,t):new A(Date.now(),t)}toISOString(){const[t,n,s]=this.tzComponents(),r=`${t}${n}:${s}`;return this.internal.toISOString().slice(0,-1)+r}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,n,s,r]=this.internal.toUTCString().split(" ");return`${t==null?void 0:t.slice(0,-1)} ${s} ${n} ${r}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[n,s,r]=this.tzComponents();return`${t} GMT${n}${s}${r} (${Ss(this.timeZone,this)})`}toLocaleString(t,n){return Date.prototype.toLocaleString.call(this,t,z(y({},n),{timeZone:(n==null?void 0:n.timeZone)||this.timeZone}))}toLocaleDateString(t,n){return Date.prototype.toLocaleDateString.call(this,t,z(y({},n),{timeZone:(n==null?void 0:n.timeZone)||this.timeZone}))}toLocaleTimeString(t,n){return Date.prototype.toLocaleTimeString.call(this,t,z(y({},n),{timeZone:(n==null?void 0:n.timeZone)||this.timeZone}))}tzComponents(){const t=this.getTimezoneOffset(),n=t>0?"-":"+",s=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),r=String(Math.abs(t)%60).padStart(2,"0");return[n,s,r]}withTimeZone(t){return new A(+this,t)}[Symbol.for("constructDateFrom")](t){return new A(+new Date(t),this.timeZone)}}const it=5,js=4;function _s(e,t){const n=t.startOfMonth(e),s=n.getDay()>0?n.getDay():7,r=t.addDays(e,-s+1),a=t.addDays(r,it*7-1);return t.getMonth(e)===t.getMonth(a)?it:js}function St(e,t){const n=t.startOfMonth(e),s=n.getDay();return s===1?n:s===0?t.addDays(n,-1*6):t.addDays(n,-1*(s-1))}function Es(e,t){const n=St(e,t),s=_s(e,t);return t.addDays(n,s*7-1)}class G{constructor(t,n){this.Date=Date,this.today=()=>{var s;return(s=this.overrides)!=null&&s.today?this.overrides.today():this.options.timeZone?A.tz(this.options.timeZone):new this.Date},this.newDate=(s,r,a)=>{var i;return(i=this.overrides)!=null&&i.newDate?this.overrides.newDate(s,r,a):this.options.timeZone?new A(s,r,a,this.options.timeZone):new Date(s,r,a)},this.addDays=(s,r)=>{var a;return(a=this.overrides)!=null&&a.addDays?this.overrides.addDays(s,r):kt(s,r)},this.addMonths=(s,r)=>{var a;return(a=this.overrides)!=null&&a.addMonths?this.overrides.addMonths(s,r):bt(s,r)},this.addWeeks=(s,r)=>{var a;return(a=this.overrides)!=null&&a.addWeeks?this.overrides.addWeeks(s,r):as(s,r)},this.addYears=(s,r)=>{var a;return(a=this.overrides)!=null&&a.addYears?this.overrides.addYears(s,r):os(s,r)},this.differenceInCalendarDays=(s,r)=>{var a;return(a=this.overrides)!=null&&a.differenceInCalendarDays?this.overrides.differenceInCalendarDays(s,r):In(s,r)},this.differenceInCalendarMonths=(s,r)=>{var a;return(a=this.overrides)!=null&&a.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(s,r):ds(s,r)},this.eachMonthOfInterval=s=>{var r;return(r=this.overrides)!=null&&r.eachMonthOfInterval?this.overrides.eachMonthOfInterval(s):fs(s)},this.eachYearOfInterval=s=>{var o;const r=(o=this.overrides)!=null&&o.eachYearOfInterval?this.overrides.eachYearOfInterval(s):ys(s),a=new Set(r.map(l=>this.getYear(l)));if(a.size===r.length)return r;const i=[];return a.forEach(l=>{i.push(new Date(l,0,1))}),i},this.endOfBroadcastWeek=s=>{var r;return(r=this.overrides)!=null&&r.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(s):Es(s,this)},this.endOfISOWeek=s=>{var r;return(r=this.overrides)!=null&&r.endOfISOWeek?this.overrides.endOfISOWeek(s):gs(s)},this.endOfMonth=s=>{var r;return(r=this.overrides)!=null&&r.endOfMonth?this.overrides.endOfMonth(s):us(s)},this.endOfWeek=(s,r)=>{var a;return(a=this.overrides)!=null&&a.endOfWeek?this.overrides.endOfWeek(s,r):Mt(s,this.options)},this.endOfYear=s=>{var r;return(r=this.overrides)!=null&&r.endOfYear?this.overrides.endOfYear(s):ms(s)},this.format=(s,r,a)=>{var o;const i=(o=this.overrides)!=null&&o.format?this.overrides.format(s,r,this.options):zn(s,r,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(i):i},this.getISOWeek=s=>{var r;return(r=this.overrides)!=null&&r.getISOWeek?this.overrides.getISOWeek(s):An(s)},this.getMonth=(s,r)=>{var a;return(a=this.overrides)!=null&&a.getMonth?this.overrides.getMonth(s,this.options):vs(s,this.options)},this.getYear=(s,r)=>{var a;return(a=this.overrides)!=null&&a.getYear?this.overrides.getYear(s,this.options):xs(s,this.options)},this.getWeek=(s,r)=>{var a;return(a=this.overrides)!=null&&a.getWeek?this.overrides.getWeek(s,this.options):Hn(s,this.options)},this.isAfter=(s,r)=>{var a;return(a=this.overrides)!=null&&a.isAfter?this.overrides.isAfter(s,r):ks(s,r)},this.isBefore=(s,r)=>{var a;return(a=this.overrides)!=null&&a.isBefore?this.overrides.isBefore(s,r):bs(s,r)},this.isDate=s=>{var r;return(r=this.overrides)!=null&&r.isDate?this.overrides.isDate(s):Rn(s)},this.isSameDay=(s,r)=>{var a;return(a=this.overrides)!=null&&a.isSameDay?this.overrides.isSameDay(s,r):cs(s,r)},this.isSameMonth=(s,r)=>{var a;return(a=this.overrides)!=null&&a.isSameMonth?this.overrides.isSameMonth(s,r):ws(s,r)},this.isSameYear=(s,r)=>{var a;return(a=this.overrides)!=null&&a.isSameYear?this.overrides.isSameYear(s,r):Ms(s,r)},this.max=s=>{var r;return(r=this.overrides)!=null&&r.max?this.overrides.max(s):is(s)},this.min=s=>{var r;return(r=this.overrides)!=null&&r.min?this.overrides.min(s):ls(s)},this.setMonth=(s,r)=>{var a;return(a=this.overrides)!=null&&a.setMonth?this.overrides.setMonth(s,r):Ds(s,r)},this.setYear=(s,r)=>{var a;return(a=this.overrides)!=null&&a.setYear?this.overrides.setYear(s,r):Ns(s,r)},this.startOfBroadcastWeek=(s,r)=>{var a;return(a=this.overrides)!=null&&a.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(s,this):St(s,this)},this.startOfDay=s=>{var r;return(r=this.overrides)!=null&&r.startOfDay?this.overrides.startOfDay(s):He(s)},this.startOfISOWeek=s=>{var r;return(r=this.overrides)!=null&&r.startOfISOWeek?this.overrides.startOfISOWeek(s):$n(s)},this.startOfMonth=s=>{var r;return(r=this.overrides)!=null&&r.startOfMonth?this.overrides.startOfMonth(s):hs(s)},this.startOfWeek=(s,r)=>{var a;return(a=this.overrides)!=null&&a.startOfWeek?this.overrides.startOfWeek(s,this.options):Un(s,this.options)},this.startOfYear=s=>{var r;return(r=this.overrides)!=null&&r.startOfYear?this.overrides.startOfYear(s):qn(s)},this.options=y({locale:xt},t),this.overrides=n}getDigitMap(){const{numerals:t="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:t}),s={};for(let r=0;r<10;r++)s[r.toString()]=n.format(r);return s}replaceDigits(t){const n=this.getDigitMap();return t.replace(/\d/g,s=>n[s]||s)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){var n;const t=(n=this.options.locale)==null?void 0:n.code;return t&&G.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:n,timeZone:s,numerals:r}=this.options,a=n==null?void 0:n.code;if(a&&G.yearFirstLocales.has(a))try{return new Intl.DateTimeFormat(a,{month:"long",year:"numeric",timeZone:s,numberingSystem:r}).format(t)}catch(o){}const i=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,i)}}G.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const te=new G;class Ct{constructor(t,n,s=te){this.date=t,this.displayMonth=n,this.outside=!!(n&&!s.isSameMonth(t,n)),this.dateLib=s}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class Ts{constructor(t,n){this.date=t,this.weeks=n}}class Ys{constructor(t,n){this.days=n,this.weekNumber=t}}function Fs(e){return g.createElement("button",y({},e))}function Bs(e){return g.createElement("span",y({},e))}function Ps(e){const{size:t=24,orientation:n="left",className:s}=e;return g.createElement("svg",{className:s,width:t,height:t,viewBox:"0 0 24 24"},n==="up"&&g.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&g.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&g.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&g.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function Is(e){const r=e,{day:t,modifiers:n}=r,s=$(r,["day","modifiers"]);return g.createElement("td",y({},s))}function zs(e){const a=e,{day:t,modifiers:n}=a,s=$(a,["day","modifiers"]),r=g.useRef(null);return g.useEffect(()=>{var i;n.focused&&((i=r.current)==null||i.focus())},[n.focused]),g.createElement("button",y({ref:r},s))}var v;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(v||(v={}));var B;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(B||(B={}));var J;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(J||(J={}));var Z;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(Z||(Z={}));function As(e){const l=e,{options:t,className:n,components:s,classNames:r}=l,a=$(l,["options","className","components","classNames"]),i=[r[v.Dropdown],n].join(" "),o=t==null?void 0:t.find(({value:d})=>d===a.value);return g.createElement("span",{"data-disabled":a.disabled,className:r[v.DropdownRoot]},g.createElement(s.Select,y({className:i},a),t==null?void 0:t.map(({value:d,label:u,disabled:f})=>g.createElement(s.Option,{key:d,value:d,disabled:f},u))),g.createElement("span",{className:r[v.CaptionLabel],"aria-hidden":!0},o==null?void 0:o.label,g.createElement(s.Chevron,{orientation:"down",size:18,className:r[v.Chevron]})))}function Hs(e){return g.createElement("div",y({},e))}function Rs(e){return g.createElement("div",y({},e))}function $s(e){const r=e,{calendarMonth:t,displayIndex:n}=r,s=$(r,["calendarMonth","displayIndex"]);return g.createElement("div",y({},s),e.children)}function Us(e){const r=e,{calendarMonth:t,displayIndex:n}=r,s=$(r,["calendarMonth","displayIndex"]);return g.createElement("div",y({},s))}function qs(e){return g.createElement("table",y({},e))}function Zs(e){return g.createElement("div",y({},e))}const Wt=w.createContext(void 0);function ke(){const e=w.useContext(Wt);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function Gs(e){const{components:t}=ke();return g.createElement(t.Dropdown,y({},e))}function Vs(e){const m=e,{onPreviousClick:t,onNextClick:n,previousMonth:s,nextMonth:r}=m,a=$(m,["onPreviousClick","onNextClick","previousMonth","nextMonth"]),{components:i,classNames:o,labels:{labelPrevious:l,labelNext:d}}=ke(),u=w.useCallback(p=>{r&&(n==null||n(p))},[r,n]),f=w.useCallback(p=>{s&&(t==null||t(p))},[s,t]);return g.createElement("nav",y({},a),g.createElement(i.PreviousMonthButton,{type:"button",className:o[v.PreviousMonthButton],tabIndex:s?void 0:-1,"aria-disabled":s?void 0:!0,"aria-label":l(s),onClick:f},g.createElement(i.Chevron,{disabled:s?void 0:!0,className:o[v.Chevron],orientation:"left"})),g.createElement(i.NextMonthButton,{type:"button",className:o[v.NextMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":d(r),onClick:u},g.createElement(i.Chevron,{disabled:r?void 0:!0,orientation:"right",className:o[v.Chevron]})))}function Ks(e){const{components:t}=ke();return g.createElement(t.Button,y({},e))}function Ls(e){return g.createElement("option",y({},e))}function Xs(e){const{components:t}=ke();return g.createElement(t.Button,y({},e))}function Js(e){const s=e,{rootRef:t}=s,n=$(s,["rootRef"]);return g.createElement("div",z(y({},n),{ref:t}))}function Qs(e){return g.createElement("select",y({},e))}function er(e){const s=e,{week:t}=s,n=$(s,["week"]);return g.createElement("tr",y({},n))}function tr(e){return g.createElement("th",y({},e))}function nr(e){return g.createElement("thead",{"aria-hidden":!0},g.createElement("tr",y({},e)))}function sr(e){const s=e,{week:t}=s,n=$(s,["week"]);return g.createElement("th",y({},n))}function rr(e){return g.createElement("th",y({},e))}function ar(e){return g.createElement("tbody",y({},e))}function or(e){const{components:t}=ke();return g.createElement(t.Dropdown,y({},e))}const ir=Object.freeze(Object.defineProperty({__proto__:null,Button:Fs,CaptionLabel:Bs,Chevron:Ps,Day:Is,DayButton:zs,Dropdown:As,DropdownNav:Hs,Footer:Rs,Month:$s,MonthCaption:Us,MonthGrid:qs,Months:Zs,MonthsDropdown:Gs,Nav:Vs,NextMonthButton:Ks,Option:Ls,PreviousMonthButton:Xs,Root:Js,Select:Qs,Week:er,WeekNumber:sr,WeekNumberHeader:rr,Weekday:tr,Weekdays:nr,Weeks:ar,YearsDropdown:or},Symbol.toStringTag,{value:"Module"}));function se(e,t,n=!1,s=te){let{from:r,to:a}=e;const{differenceInCalendarDays:i,isSameDay:o}=s;return r&&a?(i(a,r)<0&&([r,a]=[a,r]),i(t,r)>=(n?1:0)&&i(a,t)>=(n?1:0)):!n&&a?o(a,t):!n&&r?o(r,t):!1}function jt(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Ue(e){return!!(e&&typeof e=="object"&&"from"in e)}function _t(e){return!!(e&&typeof e=="object"&&"after"in e)}function Et(e){return!!(e&&typeof e=="object"&&"before"in e)}function Tt(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Yt(e,t){return Array.isArray(e)&&e.every(t.isDate)}function re(e,t,n=te){const s=Array.isArray(t)?t:[t],{isSameDay:r,differenceInCalendarDays:a,isAfter:i}=n;return s.some(o=>{if(typeof o=="boolean")return o;if(n.isDate(o))return r(e,o);if(Yt(o,n))return o.includes(e);if(Ue(o))return se(o,e,!1,n);if(Tt(o))return Array.isArray(o.dayOfWeek)?o.dayOfWeek.includes(e.getDay()):o.dayOfWeek===e.getDay();if(jt(o)){const l=a(o.before,e),d=a(o.after,e),u=l>0,f=d<0;return i(o.before,o.after)?f&&u:u||f}return _t(o)?a(e,o.after)>0:Et(o)?a(o.before,e)>0:typeof o=="function"?o(e):!1})}function lr(e,t,n,s,r){const{disabled:a,hidden:i,modifiers:o,showOutsideDays:l,broadcastCalendar:d,today:u}=t,{isSameDay:f,isSameMonth:m,startOfMonth:p,isBefore:k,endOfMonth:M,isAfter:b}=r,x=n&&p(n),N=s&&M(s),D={[B.focused]:[],[B.outside]:[],[B.disabled]:[],[B.hidden]:[],[B.today]:[]},T={};for(const h of e){const{date:C,displayMonth:S}=h,E=!!(S&&!m(C,S)),I=!!(x&&k(C,x)),H=!!(N&&b(C,N)),R=!!(a&&re(C,a,r)),K=!!(i&&re(C,i,r))||I||H||!d&&!l&&E||d&&l===!1&&E,he=f(C,u!=null?u:r.today());E&&D.outside.push(h),R&&D.disabled.push(h),K&&D.hidden.push(h),he&&D.today.push(h),o&&Object.keys(o).forEach(me=>{const ye=o==null?void 0:o[me];ye&&re(C,ye,r)&&(T[me]?T[me].push(h):T[me]=[h])})}return h=>{const C={[B.focused]:!1,[B.disabled]:!1,[B.hidden]:!1,[B.outside]:!1,[B.today]:!1},S={};for(const E in D){const I=D[E];C[E]=I.some(H=>H===h)}for(const E in T)S[E]=T[E].some(I=>I===h);return y(y({},C),S)}}function cr(e,t,n={}){return Object.entries(e).filter(([,r])=>r===!0).reduce((r,[a])=>(n[a]?r.push(n[a]):t[B[a]]?r.push(t[B[a]]):t[J[a]]&&r.push(t[J[a]]),r),[t[v.Day]])}function dr(e){return y(y({},ir),e)}function ur(e){var n;const t={"data-mode":(n=e.mode)!=null?n:void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([s,r])=>{s.startsWith("data-")&&(t[s]=r)}),t}function qe(){const e={};for(const t in v)e[v[t]]=`rdp-${v[t]}`;for(const t in B)e[B[t]]=`rdp-${B[t]}`;for(const t in J)e[J[t]]=`rdp-${J[t]}`;for(const t in Z)e[Z[t]]=`rdp-${Z[t]}`;return e}function Ft(e,t,n){return(n!=null?n:new G(t)).formatMonthYear(e)}const fr=Ft;function hr(e,t,n){return(n!=null?n:new G(t)).format(e,"d")}function mr(e,t=te){return t.format(e,"LLLL")}function yr(e,t,n){return(n!=null?n:new G(t)).format(e,"cccccc")}function gr(e,t=te){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function pr(){return""}function Bt(e,t=te){return t.format(e,"yyyy")}const vr=Bt,xr=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:Ft,formatDay:hr,formatMonthCaption:fr,formatMonthDropdown:mr,formatWeekNumber:gr,formatWeekNumberHeader:pr,formatWeekdayName:yr,formatYearCaption:vr,formatYearDropdown:Bt},Symbol.toStringTag,{value:"Module"}));function kr(e){return e!=null&&e.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e!=null&&e.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),y(y({},xr),e)}function br(e,t,n,s,r){const{startOfMonth:a,startOfYear:i,endOfYear:o,eachMonthOfInterval:l,getMonth:d}=r;return l({start:i(e),end:o(e)}).map(m=>{const p=s.formatMonthDropdown(m,r),k=d(m),M=t&&m<a(t)||n&&m>a(n)||!1;return{value:k,label:p,disabled:M}})}function wr(e,t={},n={}){let s=y({},t==null?void 0:t[v.Day]);return Object.entries(e).filter(([,r])=>r===!0).forEach(([r])=>{s=y(y({},s),n==null?void 0:n[r])}),s}function Mr(e,t,n){const s=e.today(),r=t?e.startOfISOWeek(s):e.startOfWeek(s),a=[];for(let i=0;i<7;i++){const o=e.addDays(r,i);a.push(o)}return a}function Dr(e,t,n,s,r=!1){if(!e||!t)return;const{startOfYear:a,endOfYear:i,eachYearOfInterval:o,getYear:l}=s,d=a(e),u=i(t),f=o({start:d,end:u});return r&&f.reverse(),f.map(m=>{const p=n.formatYearDropdown(m,s);return{value:l(m),label:p,disabled:!1}})}function Pt(e,t,n,s){let r=(s!=null?s:new G(n)).format(e,"PPPP");return t.today&&(r=`Today, ${r}`),t.selected&&(r=`${r}, selected`),r}const Nr=Pt;function It(e,t,n){return(n!=null?n:new G(t)).formatMonthYear(e)}const Or=It;function Sr(e,t,n,s){let r=(s!=null?s:new G(n)).format(e,"PPPP");return t!=null&&t.today&&(r=`Today, ${r}`),r}function Cr(e){return"Choose the Month"}function Wr(){return""}function jr(e){return"Go to the Next Month"}function _r(e){return"Go to the Previous Month"}function Er(e,t,n){return(n!=null?n:new G(t)).format(e,"cccc")}function Tr(e,t){return`Week ${e}`}function Yr(e){return"Week Number"}function Fr(e){return"Choose the Year"}const Br=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:Or,labelDay:Nr,labelDayButton:Pt,labelGrid:It,labelGridcell:Sr,labelMonthDropdown:Cr,labelNav:Wr,labelNext:jr,labelPrevious:_r,labelWeekNumber:Tr,labelWeekNumberHeader:Yr,labelWeekday:Er,labelYearDropdown:Fr},Symbol.toStringTag,{value:"Module"})),be=e=>e instanceof HTMLElement?e:null,Ie=e=>{var t;return[...(t=e.querySelectorAll("[data-animated-month]"))!=null?t:[]]},Pr=e=>be(e.querySelector("[data-animated-month]")),ze=e=>be(e.querySelector("[data-animated-caption]")),Ae=e=>be(e.querySelector("[data-animated-weeks]")),Ir=e=>be(e.querySelector("[data-animated-nav]")),zr=e=>be(e.querySelector("[data-animated-weekdays]"));function Ar(e,t,{classNames:n,months:s,focused:r,dateLib:a}){const i=w.useRef(null),o=w.useRef(s),l=w.useRef(!1);w.useLayoutEffect(()=>{const d=o.current;if(o.current=s,!t||!e.current||!(e.current instanceof HTMLElement)||s.length===0||d.length===0||s.length!==d.length)return;const u=a.isSameMonth(s[0].date,d[0].date),f=a.isAfter(s[0].date,d[0].date),m=f?n[Z.caption_after_enter]:n[Z.caption_before_enter],p=f?n[Z.weeks_after_enter]:n[Z.weeks_before_enter],k=i.current,M=e.current.cloneNode(!0);if(M instanceof HTMLElement?(Ie(M).forEach(D=>{if(!(D instanceof HTMLElement))return;const T=Pr(D);T&&D.contains(T)&&D.removeChild(T);const h=ze(D);h&&h.classList.remove(m);const C=Ae(D);C&&C.classList.remove(p)}),i.current=M):i.current=null,l.current||u||r)return;const b=k instanceof HTMLElement?Ie(k):[],x=Ie(e.current);if(x!=null&&x.every(N=>N instanceof HTMLElement)&&b&&b.every(N=>N instanceof HTMLElement)){l.current=!0,e.current.style.isolation="isolate";const N=Ir(e.current);N&&(N.style.zIndex="1"),x.forEach((D,T)=>{const h=b[T];if(!h)return;D.style.position="relative",D.style.overflow="hidden";const C=ze(D);C&&C.classList.add(m);const S=Ae(D);S&&S.classList.add(p);const E=()=>{l.current=!1,e.current&&(e.current.style.isolation=""),N&&(N.style.zIndex=""),C&&C.classList.remove(m),S&&S.classList.remove(p),D.style.position="",D.style.overflow="",D.contains(h)&&D.removeChild(h)};h.style.pointerEvents="none",h.style.position="absolute",h.style.overflow="hidden",h.setAttribute("aria-hidden","true");const I=zr(h);I&&(I.style.opacity="0");const H=ze(h);H&&(H.classList.add(f?n[Z.caption_before_exit]:n[Z.caption_after_exit]),H.addEventListener("animationend",E));const R=Ae(h);R&&R.classList.add(f?n[Z.weeks_before_exit]:n[Z.weeks_after_exit]),D.insertBefore(h,D.firstChild)})}})}function Hr(e,t,n,s){const r=e[0],a=e[e.length-1],{ISOWeek:i,fixedWeeks:o,broadcastCalendar:l}=n!=null?n:{},{addDays:d,differenceInCalendarDays:u,differenceInCalendarMonths:f,endOfBroadcastWeek:m,endOfISOWeek:p,endOfMonth:k,endOfWeek:M,isAfter:b,startOfBroadcastWeek:x,startOfISOWeek:N,startOfWeek:D}=s,T=l?x(r,s):i?N(r):D(r),h=l?m(a):i?p(k(a)):M(k(a)),C=u(h,T),S=f(a,r)+1,E=[];for(let R=0;R<=C;R++){const K=d(T,R);if(t&&b(K,t))break;E.push(K)}const H=(l?35:42)*S;if(o&&E.length<H){const R=H-E.length;for(let K=0;K<R;K++){const he=d(E[E.length-1],1);E.push(he)}}return E}function Rr(e){const t=[];return e.reduce((n,s)=>{const r=s.weeks.reduce((a,i)=>a.concat(i.days.slice()),t.slice());return n.concat(r.slice())},t.slice())}function $r(e,t,n,s){const{numberOfMonths:r=1}=n,a=[];for(let i=0;i<r;i++){const o=s.addMonths(e,i);if(t&&o>t)break;a.push(o)}return a}function lt(e,t,n,s){const{month:r,defaultMonth:a,today:i=s.today(),numberOfMonths:o=1}=e;let l=r||a||i;const{differenceInCalendarMonths:d,addMonths:u,startOfMonth:f}=s;if(n&&d(n,l)<o-1){const m=-1*(o-1);l=u(n,m)}return t&&d(l,t)<0&&(l=t),f(l)}function Ur(e,t,n,s){const{addDays:r,endOfBroadcastWeek:a,endOfISOWeek:i,endOfMonth:o,endOfWeek:l,getISOWeek:d,getWeek:u,startOfBroadcastWeek:f,startOfISOWeek:m,startOfWeek:p}=s,k=e.reduce((M,b)=>{const x=n.broadcastCalendar?f(b,s):n.ISOWeek?m(b):p(b),N=n.broadcastCalendar?a(b):n.ISOWeek?i(o(b)):l(o(b)),D=t.filter(S=>S>=x&&S<=N),T=n.broadcastCalendar?35:42;if(n.fixedWeeks&&D.length<T){const S=t.filter(E=>{const I=T-D.length;return E>N&&E<=r(N,I)});D.push(...S)}const h=D.reduce((S,E)=>{const I=n.ISOWeek?d(E):u(E),H=S.find(K=>K.weekNumber===I),R=new Ct(E,b,s);return H?H.days.push(R):S.push(new Ys(I,[R])),S},[]),C=new Ts(b,h);return M.push(C),M},[]);return n.reverseMonths?k.reverse():k}function qr(e,t){var x,N;let{startMonth:n,endMonth:s}=e;const{startOfYear:r,startOfDay:a,startOfMonth:i,endOfMonth:o,addYears:l,endOfYear:d,newDate:u,today:f}=t,{fromYear:m,toYear:p,fromMonth:k,toMonth:M}=e;!n&&k&&(n=k),!n&&m&&(n=t.newDate(m,0,1)),!s&&M&&(s=M),!s&&p&&(s=u(p,11,31));const b=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return n?n=i(n):m?n=u(m,0,1):!n&&b&&(n=r(l((x=e.today)!=null?x:f(),-100))),s?s=o(s):p?s=u(p,11,31):!s&&b&&(s=d((N=e.today)!=null?N:f())),[n&&a(n),s&&a(s)]}function Zr(e,t,n,s){if(n.disableNavigation)return;const{pagedNavigation:r,numberOfMonths:a=1}=n,{startOfMonth:i,addMonths:o,differenceInCalendarMonths:l}=s,d=r?a:1,u=i(e);if(!t)return o(u,d);if(!(l(t,e)<a))return o(u,d)}function Gr(e,t,n,s){if(n.disableNavigation)return;const{pagedNavigation:r,numberOfMonths:a}=n,{startOfMonth:i,addMonths:o,differenceInCalendarMonths:l}=s,d=r&&a!=null?a:1,u=i(e);if(!t)return o(u,-d);if(!(l(u,t)<=0))return o(u,-d)}function Vr(e){const t=[];return e.reduce((n,s)=>n.concat(s.weeks.slice()),t.slice())}function Ce(e,t){const[n,s]=w.useState(e);return[t===void 0?n:t,s]}function Kr(e,t){const[n,s]=qr(e,t),{startOfMonth:r,endOfMonth:a}=t,i=lt(e,n,s,t),[o,l]=Ce(i,e.month?i:void 0);w.useEffect(()=>{const C=lt(e,n,s,t);l(C)},[e.timeZone]);const d=$r(o,s,e,t),u=Hr(d,e.endMonth?a(e.endMonth):void 0,e,t),f=Ur(d,u,e,t),m=Vr(f),p=Rr(f),k=Gr(o,n,e,t),M=Zr(o,s,e,t),{disableNavigation:b,onMonthChange:x}=e,N=C=>m.some(S=>S.days.some(E=>E.isEqualTo(C))),D=C=>{if(b)return;let S=r(C);n&&S<r(n)&&(S=r(n)),s&&S>r(s)&&(S=r(s)),l(S),x==null||x(S)};return{months:f,weeks:m,days:p,navStart:n,navEnd:s,previousMonth:k,nextMonth:M,goToMonth:D,goToDay:C=>{N(C)||D(C.date)}}}var Q;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(Q||(Q={}));function ct(e){return!e[B.disabled]&&!e[B.hidden]&&!e[B.outside]}function Lr(e,t,n,s){let r,a=-1;for(const i of e){const o=t(i);ct(o)&&(o[B.focused]&&a<Q.FocusedModifier?(r=i,a=Q.FocusedModifier):s!=null&&s.isEqualTo(i)&&a<Q.LastFocused?(r=i,a=Q.LastFocused):n(i.date)&&a<Q.Selected?(r=i,a=Q.Selected):o[B.today]&&a<Q.Today&&(r=i,a=Q.Today))}return r||(r=e.find(i=>ct(t(i)))),r}function Xr(e,t,n,s,r,a,i){const{ISOWeek:o,broadcastCalendar:l}=a,{addDays:d,addMonths:u,addWeeks:f,addYears:m,endOfBroadcastWeek:p,endOfISOWeek:k,endOfWeek:M,max:b,min:x,startOfBroadcastWeek:N,startOfISOWeek:D,startOfWeek:T}=i;let C={day:d,week:f,month:u,year:m,startOfWeek:S=>l?N(S,i):o?D(S):T(S),endOfWeek:S=>l?p(S):o?k(S):M(S)}[e](n,t==="after"?1:-1);return t==="before"&&s?C=b([s,C]):t==="after"&&r&&(C=x([r,C])),C}function zt(e,t,n,s,r,a,i,o=0){if(o>365)return;const l=Xr(e,t,n.date,s,r,a,i),d=!!(a.disabled&&re(l,a.disabled,i)),u=!!(a.hidden&&re(l,a.hidden,i)),f=l,m=new Ct(l,f,i);return!d&&!u?m:zt(e,t,m,s,r,a,i,o+1)}function Jr(e,t,n,s,r){const{autoFocus:a}=e,[i,o]=w.useState(),l=Lr(t.days,n,s||(()=>!1),i),[d,u]=w.useState(a?l:void 0);return{isFocusTarget:M=>!!(l!=null&&l.isEqualTo(M)),setFocused:u,focused:d,blur:()=>{o(d),u(void 0)},moveFocus:(M,b)=>{if(!d)return;const x=zt(M,b,d,t.navStart,t.navEnd,e,r);x&&(e.disableNavigation&&!t.days.some(D=>D.isEqualTo(x))||(t.goToDay(x),u(x)))}}}function Qr(e,t){const{selected:n,required:s,onSelect:r}=e,[a,i]=Ce(n,r?n:void 0),o=r?n:a,{isSameDay:l}=t,d=p=>{var k;return(k=o==null?void 0:o.some(M=>l(M,p)))!=null?k:!1},{min:u,max:f}=e;return{selected:o,select:(p,k,M)=>{let b=[...o!=null?o:[]];if(d(p)){if((o==null?void 0:o.length)===u||s&&(o==null?void 0:o.length)===1)return;b=o==null?void 0:o.filter(x=>!l(x,p))}else(o==null?void 0:o.length)===f?b=[p]:b=[...b,p];return r||i(b),r==null||r(b,p,k,M),b},isSelected:d}}function ea(e,t,n=0,s=0,r=!1,a=te){const{from:i,to:o}=t||{},{isSameDay:l,isAfter:d,isBefore:u}=a;let f;if(!i&&!o)f={from:e,to:n>0?void 0:e};else if(i&&!o)l(i,e)?n===0?f={from:i,to:e}:r?f={from:i,to:void 0}:f=void 0:u(e,i)?f={from:e,to:i}:f={from:i,to:e};else if(i&&o)if(l(i,e)&&l(o,e))r?f={from:i,to:o}:f=void 0;else if(l(i,e))f={from:i,to:n>0?void 0:e};else if(l(o,e))f={from:e,to:n>0?void 0:e};else if(u(e,i))f={from:e,to:o};else if(d(e,i))f={from:i,to:e};else if(d(e,o))f={from:i,to:e};else throw new Error("Invalid range");if(f!=null&&f.from&&(f!=null&&f.to)){const m=a.differenceInCalendarDays(f.to,f.from);s>0&&m>s?f={from:e,to:void 0}:n>1&&m<n&&(f={from:e,to:void 0})}return f}function ta(e,t,n=te){const s=Array.isArray(t)?t:[t];let r=e.from;const a=n.differenceInCalendarDays(e.to,e.from),i=Math.min(a,6);for(let o=0;o<=i;o++){if(s.includes(r.getDay()))return!0;r=n.addDays(r,1)}return!1}function dt(e,t,n=te){return se(e,t.from,!1,n)||se(e,t.to,!1,n)||se(t,e.from,!1,n)||se(t,e.to,!1,n)}function na(e,t,n=te){const s=Array.isArray(t)?t:[t];if(s.filter(o=>typeof o!="function").some(o=>typeof o=="boolean"?o:n.isDate(o)?se(e,o,!1,n):Yt(o,n)?o.some(l=>se(e,l,!1,n)):Ue(o)?o.from&&o.to?dt(e,{from:o.from,to:o.to},n):!1:Tt(o)?ta(e,o.dayOfWeek,n):jt(o)?n.isAfter(o.before,o.after)?dt(e,{from:n.addDays(o.after,1),to:n.addDays(o.before,-1)},n):re(e.from,o,n)||re(e.to,o,n):_t(o)||Et(o)?re(e.from,o,n)||re(e.to,o,n):!1))return!0;const i=s.filter(o=>typeof o=="function");if(i.length){let o=e.from;const l=n.differenceInCalendarDays(e.to,e.from);for(let d=0;d<=l;d++){if(i.some(u=>u(o)))return!0;o=n.addDays(o,1)}}return!1}function sa(e,t){const{disabled:n,excludeDisabled:s,selected:r,required:a,onSelect:i}=e,[o,l]=Ce(r,i?r:void 0),d=i?r:o;return{selected:d,select:(m,p,k)=>{const{min:M,max:b}=e,x=m?ea(m,d,M,b,a,t):void 0;return s&&n&&(x!=null&&x.from)&&x.to&&na({from:x.from,to:x.to},n,t)&&(x.from=m,x.to=void 0),i||l(x),i==null||i(x,m,p,k),x},isSelected:m=>d&&se(d,m,!1,t)}}function ra(e,t){const{selected:n,required:s,onSelect:r}=e,[a,i]=Ce(n,r?n:void 0),o=r?n:a,{isSameDay:l}=t;return{selected:o,select:(f,m,p)=>{let k=f;return!s&&o&&o&&l(f,o)&&(k=void 0),r||i(k),r==null||r(k,f,m,p),k},isSelected:f=>o?l(o,f):!1}}function aa(e,t){const n=ra(e,t),s=Qr(e,t),r=sa(e,t);switch(e.mode){case"single":return n;case"multiple":return s;case"range":return r;default:return}}function oa(e){var Xe,Je;let t=e;t.timeZone&&(t=y({},e),t.today&&(t.today=new A(t.today,t.timeZone)),t.month&&(t.month=new A(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new A(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new A(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new A(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new A(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=(Xe=t.selected)==null?void 0:Xe.map(W=>new A(W,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new A(t.selected.from,t.timeZone):void 0,to:t.selected.to?new A(t.selected.to,t.timeZone):void 0}));const{components:n,formatters:s,labels:r,dateLib:a,locale:i,classNames:o}=w.useMemo(()=>{const W=y(y({},xt),t.locale);return{dateLib:new G({locale:W,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:dr(t.components),formatters:kr(t.formatters),labels:y(y({},Br),t.labels),locale:W,classNames:y(y({},qe()),t.classNames)}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:l,mode:d,navLayout:u,numberOfMonths:f=1,onDayBlur:m,onDayClick:p,onDayFocus:k,onDayKeyDown:M,onDayMouseEnter:b,onDayMouseLeave:x,onNextClick:N,onPrevClick:D,showWeekNumber:T,styles:h}=t,{formatCaption:C,formatDay:S,formatMonthDropdown:E,formatWeekNumber:I,formatWeekNumberHeader:H,formatWeekdayName:R,formatYearDropdown:K}=s,he=Kr(t,a),{days:me,months:ye,navStart:we,navEnd:We,previousMonth:L,nextMonth:X,goToMonth:ne}=he,je=lr(me,t,we,We,a),{isSelected:oe,select:pe,selected:Me}=(Je=aa(t,a))!=null?Je:{},{blur:Ze,focused:De,isFocusTarget:At,moveFocus:Ge,setFocused:Ne}=Jr(t,he,je,oe!=null?oe:()=>!1,a),{labelDayButton:Ht,labelGridcell:Rt,labelGrid:$t,labelMonthDropdown:Ut,labelNav:Ve,labelPrevious:qt,labelNext:Zt,labelWeekday:Gt,labelWeekNumber:Vt,labelWeekNumberHeader:Kt,labelYearDropdown:Lt}=r,Xt=w.useMemo(()=>Mr(a,t.ISOWeek),[a,t.ISOWeek]),Ke=d!==void 0||p!==void 0,_e=w.useCallback(()=>{L&&(ne(L),D==null||D(L))},[L,ne,D]),Ee=w.useCallback(()=>{X&&(ne(X),N==null||N(X))},[ne,X,N]),Jt=w.useCallback((W,F)=>O=>{O.preventDefault(),O.stopPropagation(),Ne(W),pe==null||pe(W.date,F,O),p==null||p(W.date,F,O)},[pe,p,Ne]),Qt=w.useCallback((W,F)=>O=>{Ne(W),k==null||k(W.date,F,O)},[k,Ne]),en=w.useCallback((W,F)=>O=>{Ze(),m==null||m(W.date,F,O)},[Ze,m]),tn=w.useCallback((W,F)=>O=>{const Y={ArrowLeft:[O.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[O.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[O.shiftKey?"year":"week","after"],ArrowUp:[O.shiftKey?"year":"week","before"],PageUp:[O.shiftKey?"year":"month","before"],PageDown:[O.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(Y[O.key]){O.preventDefault(),O.stopPropagation();const[U,j]=Y[O.key];Ge(U,j)}M==null||M(W.date,F,O)},[Ge,M,t.dir]),nn=w.useCallback((W,F)=>O=>{b==null||b(W.date,F,O)},[b]),sn=w.useCallback((W,F)=>O=>{x==null||x(W.date,F,O)},[x]),rn=w.useCallback(W=>F=>{const O=Number(F.target.value),Y=a.setMonth(a.startOfMonth(W),O);ne(Y)},[a,ne]),an=w.useCallback(W=>F=>{const O=Number(F.target.value),Y=a.setYear(a.startOfMonth(W),O);ne(Y)},[a,ne]),{className:on,style:ln}=w.useMemo(()=>({className:[o[v.Root],t.className].filter(Boolean).join(" "),style:y(y({},h==null?void 0:h[v.Root]),t.style)}),[o,t.className,t.style,h]),cn=ur(t),Le=w.useRef(null);Ar(Le,!!t.animate,{classNames:o,months:ye,focused:De,dateLib:a});const dn={dayPickerProps:t,selected:Me,select:pe,isSelected:oe,months:ye,nextMonth:X,previousMonth:L,goToMonth:ne,getModifiers:je,components:n,classNames:o,styles:h,labels:r,formatters:s};return g.createElement(Wt.Provider,{value:dn},g.createElement(n.Root,y({rootRef:t.animate?Le:void 0,className:on,style:ln,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"]},cn),g.createElement(n.Months,{className:o[v.Months],style:h==null?void 0:h[v.Months]},!t.hideNavigation&&!u&&g.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:o[v.Nav],style:h==null?void 0:h[v.Nav],"aria-label":Ve(),onPreviousClick:_e,onNextClick:Ee,previousMonth:L,nextMonth:X}),ye.map((W,F)=>g.createElement(n.Month,{"data-animated-month":t.animate?"true":void 0,className:o[v.Month],style:h==null?void 0:h[v.Month],key:F,displayIndex:F,calendarMonth:W},u==="around"&&!t.hideNavigation&&F===0&&g.createElement(n.PreviousMonthButton,{type:"button",className:o[v.PreviousMonthButton],tabIndex:L?void 0:-1,"aria-disabled":L?void 0:!0,"aria-label":qt(L),onClick:_e,"data-animated-button":t.animate?"true":void 0},g.createElement(n.Chevron,{disabled:L?void 0:!0,className:o[v.Chevron],orientation:t.dir==="rtl"?"right":"left"})),g.createElement(n.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:o[v.MonthCaption],style:h==null?void 0:h[v.MonthCaption],calendarMonth:W,displayIndex:F},l!=null&&l.startsWith("dropdown")?g.createElement(n.DropdownNav,{className:o[v.Dropdowns],style:h==null?void 0:h[v.Dropdowns]},(()=>{const O=l==="dropdown"||l==="dropdown-months"?g.createElement(n.MonthsDropdown,{key:"month",className:o[v.MonthsDropdown],"aria-label":Ut(),classNames:o,components:n,disabled:!!t.disableNavigation,onChange:rn(W.date),options:br(W.date,we,We,s,a),style:h==null?void 0:h[v.Dropdown],value:a.getMonth(W.date)}):g.createElement("span",{key:"month"},E(W.date,a)),Y=l==="dropdown"||l==="dropdown-years"?g.createElement(n.YearsDropdown,{key:"year",className:o[v.YearsDropdown],"aria-label":Lt(a.options),classNames:o,components:n,disabled:!!t.disableNavigation,onChange:an(W.date),options:Dr(we,We,s,a,!!t.reverseYears),style:h==null?void 0:h[v.Dropdown],value:a.getYear(W.date)}):g.createElement("span",{key:"year"},K(W.date,a));return a.getMonthYearOrder()==="year-first"?[Y,O]:[O,Y]})(),g.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},C(W.date,a.options,a))):g.createElement(n.CaptionLabel,{className:o[v.CaptionLabel],role:"status","aria-live":"polite"},C(W.date,a.options,a))),u==="around"&&!t.hideNavigation&&F===f-1&&g.createElement(n.NextMonthButton,{type:"button",className:o[v.NextMonthButton],tabIndex:X?void 0:-1,"aria-disabled":X?void 0:!0,"aria-label":Zt(X),onClick:Ee,"data-animated-button":t.animate?"true":void 0},g.createElement(n.Chevron,{disabled:X?void 0:!0,className:o[v.Chevron],orientation:t.dir==="rtl"?"left":"right"})),F===f-1&&u==="after"&&!t.hideNavigation&&g.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:o[v.Nav],style:h==null?void 0:h[v.Nav],"aria-label":Ve(),onPreviousClick:_e,onNextClick:Ee,previousMonth:L,nextMonth:X}),g.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":d==="multiple"||d==="range","aria-label":$t(W.date,a.options,a)||void 0,className:o[v.MonthGrid],style:h==null?void 0:h[v.MonthGrid]},!t.hideWeekdays&&g.createElement(n.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:o[v.Weekdays],style:h==null?void 0:h[v.Weekdays]},T&&g.createElement(n.WeekNumberHeader,{"aria-label":Kt(a.options),className:o[v.WeekNumberHeader],style:h==null?void 0:h[v.WeekNumberHeader],scope:"col"},H()),Xt.map(O=>g.createElement(n.Weekday,{"aria-label":Gt(O,a.options,a),className:o[v.Weekday],key:String(O),style:h==null?void 0:h[v.Weekday],scope:"col"},R(O,a.options,a)))),g.createElement(n.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:o[v.Weeks],style:h==null?void 0:h[v.Weeks]},W.weeks.map(O=>g.createElement(n.Week,{className:o[v.Week],key:O.weekNumber,style:h==null?void 0:h[v.Week],week:O},T&&g.createElement(n.WeekNumber,{week:O,style:h==null?void 0:h[v.WeekNumber],"aria-label":Vt(O.weekNumber,{locale:i}),className:o[v.WeekNumber],scope:"row",role:"rowheader"},I(O.weekNumber,a)),O.days.map(Y=>{const{date:U}=Y,j=je(Y);if(j[B.focused]=!j.hidden&&!!(De!=null&&De.isEqualTo(Y)),j[J.selected]=(oe==null?void 0:oe(U))||j.selected,Ue(Me)){const{from:Te,to:Ye}=Me;j[J.range_start]=!!(Te&&Ye&&a.isSameDay(U,Te)),j[J.range_end]=!!(Te&&Ye&&a.isSameDay(U,Ye)),j[J.range_middle]=se(Me,U,!0,a)}const un=wr(j,h,t.modifiersStyles),fn=cr(j,o,t.modifiersClassNames),hn=!Ke&&!j.hidden?Rt(U,j,a.options,a):void 0;return g.createElement(n.Day,{key:`${a.format(U,"yyyy-MM-dd")}_${a.format(Y.displayMonth,"yyyy-MM")}`,day:Y,modifiers:j,className:fn.join(" "),style:un,role:"gridcell","aria-selected":j.selected||void 0,"aria-label":hn,"data-day":a.format(U,"yyyy-MM-dd"),"data-month":Y.outside?a.format(U,"yyyy-MM"):void 0,"data-selected":j.selected||void 0,"data-disabled":j.disabled||void 0,"data-hidden":j.hidden||void 0,"data-outside":Y.outside||void 0,"data-focused":j.focused||void 0,"data-today":j.today||void 0},!j.hidden&&Ke?g.createElement(n.DayButton,{className:o[v.DayButton],style:h==null?void 0:h[v.DayButton],type:"button",day:Y,modifiers:j,disabled:j.disabled||void 0,tabIndex:At(Y)?0:-1,"aria-label":Ht(U,j,a.options,a),onClick:Jt(Y,j),onBlur:en(Y,j),onFocus:Qt(Y,j),onKeyDown:tn(Y,j),onMouseEnter:nn(Y,j),onMouseLeave:sn(Y,j)},S(U,a.options,a)):!j.hidden&&S(Y.date,a.options,a))})))))))),t.footer&&g.createElement(n.Footer,{className:o[v.Footer],style:h==null?void 0:h[v.Footer],role:"status","aria-live":"polite"},t.footer)))}function ia(l){var d=l,{className:e,classNames:t,showOutsideDays:n=!0,captionLayout:s="label",buttonVariant:r="ghost",formatters:a,components:i}=d,o=$(d,["className","classNames","showOutsideDays","captionLayout","buttonVariant","formatters","components"]);const u=qe();return c.jsx(oa,y({showOutsideDays:n,className:_("group/calendar bg-background [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent p-3 [--cell-size:--spacing(8)]",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:s,formatters:y({formatMonthDropdown:f=>f.toLocaleString("default",{month:"short"})},a),classNames:y({root:_("w-fit",u.root),months:_("relative flex md:flex-row flex-col gap-4",u.months),month:_("flex flex-col gap-4 w-full",u.month),nav:_("top-0 absolute inset-x-0 flex justify-between items-center gap-1 w-full",u.nav),button_previous:_(st({variant:r}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",u.button_previous),button_next:_(st({variant:r}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",u.button_next),month_caption:_("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",u.month_caption),dropdowns:_("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",u.dropdowns),dropdown_root:_("relative shadow-none has-focus:border-ring rounded-md has-focus:ring-[3px] has-focus:ring-ring/50",u.dropdown_root),dropdown:_("absolute inset-0 bg-popover opacity-0",u.dropdown),caption_label:_("font-medium select-none",s==="label"?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",u.caption_label),table:"w-full border-collapse",weekdays:_("flex",u.weekdays),weekday:_("flex-1 rounded-md font-normal text-[0.8rem] text-muted-foreground select-none",u.weekday),week:_("flex mt-2 w-full",u.week),week_number_header:_("select-none w-(--cell-size)",u.week_number_header),week_number:_("text-[0.8rem] text-muted-foreground select-none",u.week_number),day:_("group/day relative p-0 [&:last-child[data-selected=true]_button]:rounded-r-md w-full h-full aspect-square text-center select-none",o.showWeekNumber?"[&:nth-child(2)[data-selected=true]_button]:rounded-l-md":"[&:first-child[data-selected=true]_button]:rounded-l-md",u.day),range_start:_("bg-accent rounded-l-md",u.range_start),range_middle:_("rounded-none",u.range_middle),range_end:_("bg-accent rounded-r-md",u.range_end),today:_("bg-accent rounded-md data-[selected=true]:rounded-none text-accent-foreground",u.today),outside:_("text-muted-foreground aria-selected:text-muted-foreground",u.outside),disabled:_("opacity-50 text-muted-foreground",u.disabled),hidden:_("invisible",u.hidden)},t),components:y({Root:k=>{var M=k,{className:f,rootRef:m}=M,p=$(M,["className","rootRef"]);return c.jsx("div",y({"data-slot":"calendar",ref:m,className:_(f)},p))},Chevron:k=>{var M=k,{className:f,orientation:m}=M,p=$(M,["className","orientation"]);return m==="left"?c.jsx(pn,y({className:_("size-4",f)},p)):m==="right"?c.jsx(vn,y({className:_("size-4",f)},p)):c.jsx(gt,y({className:_("size-4",f)},p))},DayButton:la,WeekNumber:p=>{var k=p,{children:f}=k,m=$(k,["children"]);return c.jsx("td",z(y({},m),{children:c.jsx("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:f})}))}},i)},o))}function la(r){var a=r,{className:e,day:t,modifiers:n}=a,s=$(a,["className","day","modifiers"]);const i=qe(),o=w.useRef(null);return w.useEffect(()=>{var l;n.focused&&((l=o.current)==null||l.focus())},[n.focused]),c.jsx(fe,y({ref:o,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:_("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",i.day,e)},s))}function ca(e,t){const[n,s]=w.useState(null),[r,a]=w.useState(0),[i,o]=w.useState(null);w.useEffect(()=>{t&&s(t)},[t]),w.useEffect(()=>()=>{n!=null&&n.startsWith("blob:")&&URL.revokeObjectURL(n)},[n]);const l=w.useCallback(M=>q(null,null,function*(){const b=M[0];if(b){a(0),o(null),n!=null&&n.startsWith("blob:")&&URL.revokeObjectURL(n);try{const N=yield Gn(b,{maxSizeMB:1.5,maxWidthOrHeight:1920,useWebWorker:!0,onProgress:D=>a(D)});s(URL.createObjectURL(N)),e==null||e(N)}catch(x){s(URL.createObjectURL(b)),e==null||e(b)}}}),[n,e]),d=w.useCallback(M=>{const x=M[0].errors.map(N=>N.code==="file-invalid-type"?"Неверный формат файла":N.code==="file-invalid-type"?"Файл слишком тяжелый":N.message);o(x)},[]),{getRootProps:u,getInputProps:f,isDragActive:m,open:p}=Vn({onDrop:l,onDropRejected:d,maxFiles:1,accept:{"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"],"image/webp":[".webp"]},maxSize:10*1024*1024}),k=r>0&&r<100;return{preview:n,setPreview:s,errorMessages:i,getInputProps:f,getRootProps:u,isDragActive:m,open:p,isCompressing:k,progress:r}}function da(){const[e,t]=w.useState({isSuccess:!1,isSaving:!1,isError:!1}),{changeAvatar:n}=Dt();return{changeAvatar:w.useCallback((r,a,i)=>q(null,null,function*(){if(t({isSuccess:!1,isSaving:!0,isError:!1}),!r){const{ok:u}=yield n(null,i);return u&&a(i,{avatarURL:null}),t({isSuccess:u,isSaving:!1,isError:!u})}const{ok:o,response:l}=yield Kn(r);if(!o){t({isSuccess:!1,isSaving:!1,isError:!0});return}const{ok:d}=yield n(l,i);if(!d){t({isSuccess:!1,isSaving:!1,isError:!0});return}a(i,{avatarURL:l}),t({isSuccess:d,isSaving:!1,isError:!d})}),[n]),saving:e,setSaving:t}}function ua({imageURL:e,userId:t,documentId:n,name:s,updateUserCache:r}){const[a,i]=w.useState(),{saving:o,setSaving:l,changeAvatar:d}=da(),{preview:u,setPreview:f,errorMessages:m,getInputProps:p,getRootProps:k,isDragActive:M,isCompressing:b,open:x}=ca(i,e);return w.useEffect(()=>l({isSuccess:!1,isSaving:!1,isError:!1}),[a,l]),c.jsx("div",{className:"flex flex-col gap-4 md:gap-6 px-2 md:px-0 pb-2",children:c.jsxs("div",{className:"flex items-center gap-4 w-36",children:[c.jsxs("div",{className:"relative w-fit",children:[c.jsxs("div",z(y({},k()),{children:[M||b?c.jsxs("div",{className:_("place-content-center grid bg-muted rounded-full w-24 h-24",M&&"outline-2 outline-muted"),children:[M&&c.jsx(rs,{className:"size-5 text-muted-foreground"}),b&&c.jsx(pt,{className:"size-4 text-muted-foreground animate-spin"})]}):c.jsxs("div",{className:"group/avatar relative rounded-full w-fit overflow-clip cursor-pointer",children:[c.jsx(vt,{avatarURL:u!=null?u:void 0,id:t,name:s,size:"3xl"}),c.jsx("div",{className:"-bottom-6 absolute place-content-center grid bg-muted/70 w-full h-6 text-muted-foreground transition-all group-hover/avatar:-translate-y-6 duration-250",children:c.jsx(ns,{className:"size-4"})})]}),c.jsx("input",z(y({},p()),{id:"image-dropzone"}))]})),(a||u)&&c.jsx(fe,{type:"button",variant:"secondary",onClick:()=>{i(null),f(null)},size:"sm",className:"-right-2 -bottom-1 z-10 absolute",children:c.jsx(xn,{className:"size-3"})})]}),c.jsx("div",{className:"flex items-center gap-1.5",children:a!==void 0?c.jsx(fa,{saving:o,handleAvatarChange:()=>d(a,r,n)}):c.jsx(fe,{type:"button",className:"rounded-2xl",onClick:()=>x(),children:"Выбрать"})}),m&&c.jsx("div",{className:"bg-destructive/30 px-4 py-2 rounded-md w-fit text-destructive text-sm",children:m.map(N=>c.jsxs("p",{className:"inline-flex items-center gap-2 [&_svg]:size-4",children:[c.jsx(Ln,{}),N]},N))})]})})}function fa({saving:e,handleAvatarChange:t}){const n=!e.isSaving&&!e.isSuccess,s=e.isSaving&&!e.isSuccess,r=!e.isSaving&&e.isSuccess,a=!e.isSaving&&e.isError;return c.jsxs(fe,{disabled:s||r,variant:n?"default":"ghost",onClick:t,className:"rounded-2xl",type:"button",children:[n&&c.jsx(c.Fragment,{children:"Сохранить аватар"}),s&&c.jsxs(c.Fragment,{children:[c.jsx(pt,{className:"animate-spin"}),"Сохранение..."]}),r&&c.jsxs(c.Fragment,{children:[c.jsx(kn,{}),"Аватар обновлен"]}),a&&c.jsxs(c.Fragment,{children:[c.jsx(bn,{}),"Не удалось сохранить"]})]})}function ha({userInfo:e,updateUserCache:t}){var o,l;const n=ut({resolver:ft(Bn),mode:"onChange",defaultValues:{userName:e.userName,sex:e.sex,birthDate:e.birthDate?new Date(e.birthDate):null,bio:(o=e.bio)!=null?o:""}}),{isSubmitting:s,isDirty:r,isSubmitSuccessful:a}=n.formState,{savePersonalInfo:i}=Nt();return w.useEffect(()=>{n.reset(void 0,{keepDirtyValues:!1,keepValues:!0})},[a,n]),c.jsx(ht,z(y({},n),{children:c.jsxs("form",{onSubmit:n.handleSubmit(d=>q(null,null,function*(){return i(d,n,e.$id,t)})),className:"flex flex-col gap-4 md:gap-6 mx-auto mt-3 md:mt-0 px-2 md:px-0 pb-2 lg:max-w-3xl xl:max-w-4xl",children:[c.jsx("p",{className:"font-semibold text-xl lg:text-2xl",children:"Личные данные"}),c.jsx(ie,{control:n.control,name:"userName",render:({field:d})=>c.jsxs(le,{children:[c.jsxs(ce,{className:"gap-1",htmlFor:"userName",children:["Полное имя ",c.jsx("span",{className:"text-destructive",children:"*"})]}),c.jsx(de,{children:c.jsx(mt,z(y({},d),{className:"text-sm md:text-base",id:"userName"}))}),c.jsx(ae,{})]})}),c.jsxs("div",{className:"flex items-start gap-4 lg:gap-10",children:[c.jsx(ie,{control:n.control,name:"sex",render:({field:d})=>{var u;return c.jsxs(le,{children:[c.jsx(ce,{htmlFor:void 0,children:"Ваш пол"}),c.jsx(de,{children:c.jsx(ya,{value:(u=d.value)!=null?u:"none",onValueChange:f=>{d.onChange(f==="none"?null:f)},className:"py-6 text-sm md:text-base"})}),c.jsx(ae,{})]})}}),c.jsx(ie,{control:n.control,name:"birthDate",render:({field:d})=>c.jsxs(le,{children:[c.jsx(ce,{htmlFor:void 0,children:"Дата рождения"}),c.jsx(de,{children:c.jsx(ma,{date:d.value?new Date(d.value):void 0,setDate:d.onChange})}),c.jsx(ae,{})]})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("p",{className:"font-medium text-muted-foreground text-sm",children:"Аватар"}),c.jsx(ua,{imageURL:(l=e.avatarURL)!=null?l:void 0,userId:e.userId,documentId:e.$id,name:e.userName,updateUserCache:t})]}),c.jsx(ie,{control:n.control,name:"bio",render:({field:d})=>{var u;return c.jsxs(le,{children:[c.jsx(ce,{htmlFor:"bio",children:"О себе"}),c.jsx(de,{children:c.jsx(wn,z(y({},d),{value:(u=d.value)!=null?u:"",className:"h-24 md:h-28 text-sm md:text-base resize-none",placeholder:"Расскажите о себе",id:"bio"}))}),c.jsx(Mn,{children:"Макс. 150 символов"}),c.jsx(ae,{})]})}}),c.jsx(yt,{text:"Сохранить",loaderText:"Сохранение...",isSubmitting:s,isDirty:r,className:"w-fit"})]})}))}function ma({date:e,setDate:t}){const[n,s]=w.useState(!1);return c.jsxs(Nn,{open:n,onOpenChange:s,children:[c.jsx(On,{asChild:!0,children:c.jsxs(fe,{variant:"secondary",id:"date",className:"justify-between w-48 h-12 font-normal text-sm md:text-base",children:[e?e.toLocaleDateString():"Не выбрана",c.jsx(gt,{className:"text-muted-foreground/65"})]})}),c.jsx(Sn,{className:"p-0 w-auto overflow-hidden",align:"start",children:c.jsx(ia,{locale:Zn,mode:"single",selected:e,captionLayout:"dropdown",onSelect:r=>{t(r),s(!1)}})})]})}function ya({value:e,onValueChange:t,className:n}){const s=[{value:"none",label:"Не указан"},{value:"male",label:"Мужской"},{value:"female",label:"Женский"},{value:"other",label:"Другое"}];return c.jsx(Dn,{options:s,onSelect:t,selectedValue:e,title:"Пол",triggerClassName:n})}function ga({text:e,userId:t,variant:n,size:s}){return c.jsxs(fe,{variant:n,onClick:()=>Xn(`${window.location.origin}/${t}`),className:"w-fit",size:s||"default",children:[c.jsx(Jn,{}),e||"Копировать ссылку"]})}function pa({imageURL:e,userId:t,name:n}){return c.jsxs("div",{className:"flex flex-wrap sm:justify-between gap-y-3 px-2 lg:px-0",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(vt,{avatarURL:e!=null?e:void 0,id:t,name:n,size:"xl",className:"shrink-0"}),c.jsxs("div",{children:[c.jsx("p",{className:"mb-1 font-semibold text-lg lg:text-xl leading-4",children:n}),c.jsxs("p",{className:"text-muted-foreground text-sm lg:text-base",children:["@",t]})]})]}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx(ga,{variant:"secondary",userId:t}),c.jsx(Cn,{to:Wn(jn.DASHBOARD,{userId:t}),children:c.jsxs(fe,{variant:"secondary",children:[c.jsx(es,{}),"К профилю"]})})]})]})}function va({profileInfo:e,updateUserCache:t}){var n;return c.jsxs("div",{className:"space-y-6 lg:space-y-10 mx-auto mt-3 lg:mt-0 mb-6",children:[c.jsx("p",{className:"px-2 lg:px-0 font-headers font-bold text-2xl md:text-3xl lg:text-4xl",children:"Редактировать профиль"}),c.jsx(pa,{imageURL:(n=e.avatarURL)!=null?n:void 0,userId:e.userId,name:e.userName}),c.jsxs("div",{className:"gap-4 lg:gap-20 grid grid-cols-1 lg:grid-cols-2 w-full",children:[c.jsx("div",{className:"w-full",children:c.jsx(ha,{userInfo:e,updateUserCache:t})}),c.jsx("div",{className:"space-y-4 lg:space-y-10",children:c.jsx(Os,{email:e.userEmail,userDocumentId:e.$id})})]})]})}function xa(){const{user:e,isLoading:t,error:n,mutateUser:s}=_n(),{updateSWRCache:r}=En(),a=w.useCallback((i,o)=>{s(),r("users",l=>l.map(d=>d.$id===i?y(y({},d),o):d))},[s,r]);if(n)return c.jsx(Yn,{variant:"default"});if(t)return c.jsx(Tn,{});if(e)return c.jsx(va,{profileInfo:e,updateUserCache:a})}const Wa=xa;export{Wa as Component};
