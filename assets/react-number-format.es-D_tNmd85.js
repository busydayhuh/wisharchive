var at=Object.defineProperty,rt=Object.defineProperties;var nt=Object.getOwnPropertyDescriptors;var ve=Object.getOwnPropertySymbols;var Ae=Object.prototype.hasOwnProperty,Oe=Object.prototype.propertyIsEnumerable;var Ee=(e,t,a)=>t in e?at(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,X=(e,t)=>{for(var a in t||(t={}))Ae.call(t,a)&&Ee(e,a,t[a]);if(ve)for(var a of ve(t))Oe.call(t,a)&&Ee(e,a,t[a]);return e},le=(e,t)=>rt(e,nt(t));var Te=(e,t)=>{var a={};for(var r in e)Ae.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&ve)for(var r of ve(e))t.indexOf(r)<0&&Oe.call(e,r)&&(a[r]=e[r]);return a};var G=(e,t,a)=>new Promise((r,n)=>{var i=l=>{try{s(a.next(l))}catch(b){n(b)}},o=l=>{try{s(a.throw(l))}catch(b){n(b)}},s=l=>l.done?r(l.value):Promise.resolve(l.value).then(i,o);s((a=a.apply(e,t)).next())});import{j as it,m as ot,br as ut,aY as Le,r as R,bs as st,bt as lt,bu as ct,bv as oe,bw as te,bx as ft,by as dt,bz as ye,bA as _e,bB as vt,aZ as Y,aX as Be,d as me,bC as gt,a1 as mt,h as we,bD as ht,J as pt,aL as ce,R as ue}from"./index-ER8oZ0LV.js";import"./schemas-DolQb7Cl.js";function na(a){var r=a,{className:e}=r,t=Te(r,["className"]);return it.jsx("div",X({"data-slot":"skeleton",className:ot("bg-muted rounded-md animate-pulse",e)},t))}const bt=()=>{},St=bt(),Ce=Object,ke=e=>e===St,yt=e=>typeof e=="function",ge=new WeakMap,wt=e=>Ce.prototype.toString.call(e),xe=(e,t)=>e===`[object ${t}]`;let xt=0;const Ve=e=>{const t=typeof e,a=wt(e),r=xe(a,"Date"),n=xe(a,"RegExp"),i=xe(a,"Object");let o,s;if(Ce(e)===e&&!r&&!n){if(o=ge.get(e),o)return o;if(o=++xt+"~",ge.set(e,o),Array.isArray(e)){for(o="@",s=0;s<e.length;s++)o+=Ve(e[s])+",";ge.set(e,o)}if(i){o="#";const l=Ce.keys(e).sort();for(;!ke(s=l.pop());)ke(e[s])||(o+=s+":"+Ve(e[s])+",");ge.set(e,o)}}else o=r?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},Nt=e=>{if(yt(e))try{e=e()}catch(a){e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?Ve(e):"",[e,t]},It=e=>Nt(e?e(0,null):null)[0],Ne=Promise.resolve(),Ct=e=>(t,a,r)=>{const n=R.useRef(!1),{cache:i,initialSize:o=1,revalidateAll:s=!1,persistSize:l=!1,revalidateFirstPage:b=!0,revalidateOnMount:w=!1,parallel:p=!1}=r,[,,,y]=st.get(lt);let d;try{d=It(t),d&&(d=ct+d)}catch(m){}const[v,x,C]=oe(i,d),g=R.useCallback(()=>te(v()._l)?o:v()._l,[i,d,o]);ft.useSyncExternalStore(R.useCallback(m=>d?C(d,()=>{m()}):()=>{},[i,d]),g,g);const N=R.useCallback(()=>{const m=v()._l;return te(m)?o:m},[d,o]),k=R.useRef(N());dt(()=>{if(!n.current){n.current=!0;return}d&&x({_l:l?k.current:N()})},[d,i]);const L=w&&!n.current,B=e(d,m=>G(null,null,function*(){const F=v()._i,O=v()._r;x({_r:ye});const M=[],U=N(),[j]=oe(i,m),$=j().data,q=[];let h=null;for(let f=0;f<U;++f){const[I,T]=_e(t(f,p?null:h));if(!I)break;const[P,_]=oe(i,I);let V=P().data;const Z=s||F||te(V)||b&&!f&&!te($)||L||$&&!te($[f])&&!r.compare($[f],V);if(a&&(typeof O=="function"?O(V,T):Z)){const re=()=>G(null,null,function*(){if(!(I in y))V=yield a(T);else{const ie=y[I];delete y[I],V=yield ie}_({data:V,_k:T}),M[f]=V});p?q.push(re):yield re()}else M[f]=V;p||(h=V)}return p&&(yield Promise.all(q.map(f=>f()))),x({_i:ye}),M}),r),z=R.useCallback(function(m,F){const O=typeof F=="boolean"?{revalidate:F}:F||{},M=O.revalidate!==!1;return d?(M&&(te(m)?x({_i:!0,_r:O.revalidate}):x({_i:!1,_r:O.revalidate})),arguments.length?B.mutate(m,le(X({},O),{revalidate:M})):B.mutate()):Ne},[d,i]),K=R.useCallback(m=>{if(!d)return Ne;const[,F]=oe(i,d);let O;if(vt(m)?O=m(N()):typeof m=="number"&&(O=m),typeof O!="number")return Ne;F({_l:O}),k.current=O;const M=[],[U]=oe(i,d);let j=null;for(let $=0;$<O;++$){const[q]=_e(t($,j)),[h]=oe(i,q),f=q?h().data:ye;if(te(f))return z(U().data);M.push(f),j=f}return z(M)},[d,i,z,N]);return{size:N(),setSize:K,mutate:z,get data(){return B.data},get error(){return B.error},get isValidating(){return B.isValidating},get isLoading(){return B.isLoading}}},Vt=ut(Le,Ct),We=15;function Dt(e,t){return G(this,null,function*(){const a=t?[...e,Y.cursorAfter(t)]:[...e];return(yield me.wishlists.list(a)).documents})}function Rt(e,t="main",a){var x,C;const r=e?Et(e):null,n=`${t}+${a}`,i=(g,N)=>{var L,B;if(!e||e.teams&&e.teams.length===0||N&&N.length===0)return null;if(g===0&&e)return["wishlists",n,Be(e)];const k=(B=(L=N==null?void 0:N.at(-1))==null?void 0:L.$id)!=null?B:null;return["wishlists",n,Be(e),k]},{data:o,isLoading:s,error:l,size:b,setSize:w,isValidating:p,mutate:y}=Vt(i,([,,,g])=>Dt(r,g),{onSuccess:g=>g.flat().map(N=>N.wishes?le(X({},N),{wishes:[...N.wishes].reverse()}):N),revalidateAll:!0,keepPreviousData:!0}),d=o==null?void 0:o.flat(),v=o&&((C=(x=o.at(-1))==null?void 0:x.length)!=null?C:0)<We;return{wishlists:d,isLoading:s,error:l,size:b,setSize:w,isValidating:p,reachedEnd:v,infiniteMutate:y}}function Et(e){const t=[Y.limit(e.limit||We)],a=e.filters&&e.filters.length>0?e.filters:null;return e.ownerId&&!e.teams&&t.push(Y.equal("ownerId",e.ownerId)),e.searchString&&t.push(Y.contains("title",e==null?void 0:e.searchString)),e.bookmarkedBy&&t.push(Y.contains("bookmarkedBy",e==null?void 0:e.bookmarkedBy)),e.teams&&(e==null?void 0:e.teams.length)>0&&t.push(Y.equal("$id",e.teams)),e.sort&&t.push(e.sort.direction==="desc"?Y.orderDesc(e.sort.field):Y.orderAsc(e.sort.field)),a&&a.forEach(r=>{(r.key==="editorsIds"||r.key==="readersIds")&&r.value?t.push(Y.contains(r.key,r.value)):r.value!==void 0&&r.value!==null&&t.push(Y.equal(r.key,r.value))}),t}function ia(){const{performMutation:e}=gt(),t=R.useCallback(n=>G(null,null,function*(){const i=mt.unique(),o=le(X({},n),{$id:i,$collectionId:"wishes",$databaseId:"wisharchive",$createdAt:"",$updatedAt:"",$permissions:[]});try{return{ok:!0,response:yield e({updater:l=>[o,...l],action:()=>G(null,null,function*(){return yield me.wishes.create(n,void 0,i)}),keyword:"wishes"})}}catch(s){return we(s)}}),[e]),a=R.useCallback((n,i)=>G(null,null,function*(){const o=s=>s.map(l=>l.$id===n?X(X({},l),i):l);try{return{ok:!0,response:yield e({updater:o,action:()=>G(null,null,function*(){return yield me.wishes.update(n,i)}),keyword:"wishes",extraKeys:[n]})}}catch(s){return we(s)}}),[e]),r=R.useCallback(n=>G(null,null,function*(){try{return yield e({updater:i=>i.filter(o=>o.$id!==n),action:()=>G(null,null,function*(){yield me.wishes.delete(n)}),keyword:"wishes"}),{ok:!0}}catch(i){return we(i)}}),[e]);return{create:t,update:a,deleteW:r}}const oa=R.createContext(null);function At(){return G(this,null,function*(){return(yield ht.list()).teams})}function Ot(e,t,a){var v;const{data:r,isLoading:n,error:i}=Le("currentUserTeams",At),o=(v=r==null?void 0:r.map(x=>x.$id))!=null?v:[],{wishlists:s,isLoading:l,error:b,size:w,setSize:p,isValidating:y,reachedEnd:d}=Rt(le(X({},e),{teams:o}),t,a);return{wishlists:s,isLoading:n||l,error:i||b,size:w,setSize:p,isValidating:y,reachedEnd:d}}function ua(e){const{userId:t}=pt(),{wishlists:a,isLoading:r,error:n}=Ot({sort:{field:"$sequence",direction:"desc"},filters:[],limit:100},"all",t),i=R.useMemo(()=>e!=null?e:"none",[e]),o=R.useMemo(()=>[{value:"none",label:"Без списка",icon:ce.none},...(a!=null?a:[]).map(l=>({value:l.$id,label:l.title,icon:l.ownerId===t?l.isPrivate?ce.private:ce.default:ce.collab,ownerId:l.ownerId}))],[t,a]),s=R.useMemo(()=>{var l;return(l=o.find(b=>b.value===i))!=null?l:{value:"none",label:"Без списка",icon:ce.none}},[i,o]);return{wishlists:a,isLoading:r,error:n,optionValue:i,options:o,selectedOption:s}}const sa=[{abbr:"RUB",title:"Российский рубль",icon:"₽"},{abbr:"USD",title:"Доллар США",icon:"$"},{abbr:"EUR",title:"Евро",icon:"€"},{abbr:"GBP",title:"Фунт стерлингов",icon:"£"},{abbr:"INR",title:"Индийская рупия",icon:"₹"},{abbr:"CNY",title:"Китайский юань",icon:"¥"},{abbr:"JPY",title:"Японская иена",icon:"JP¥"},{abbr:"GEL",title:"Грузинский лари",icon:"₾"},{abbr:"KZT",title:"Казахский тенге",icon:"₸"},{abbr:"SAR",title:"Саудовский риял",icon:"﷼"},{abbr:"TRY",title:"Турецкая лира",icon:"₺"}];function je(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(a[r[n]]=e[r[n]]);return a}var fe;(function(e){e.event="event",e.props="prop"})(fe||(fe={}));function ee(){}function Tt(e){var t,a=void 0;return function(){for(var r=[],n=arguments.length;n--;)r[n]=arguments[n];return t&&r.length===t.length&&r.every(function(i,o){return i===t[o]})||(t=r,a=e.apply(void 0,r)),a}}function de(e){return!!(e||"").match(/\d/)}function se(e){return e==null}function _t(e){return typeof e=="number"&&isNaN(e)}function ze(e){return se(e)||_t(e)||typeof e=="number"&&!isFinite(e)}function Ue(e){return e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function Bt(e){switch(e){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function kt(e,t,a){var r=Bt(a),n=e.search(/[1-9]/);return n=n===-1?e.length:n,e.substring(0,n)+e.substring(n,e.length).replace(r,"$1"+t)}function Ft(e){var t=R.useRef(e);t.current=e;var a=R.useRef(function(){for(var r=[],n=arguments.length;n--;)r[n]=arguments[n];return t.current.apply(t,r)});return a.current}function De(e,t){t===void 0&&(t=!0);var a=e[0]==="-",r=a&&t;e=e.replace("-","");var n=e.split("."),i=n[0],o=n[1]||"";return{beforeDecimal:i,afterDecimal:o,hasNegation:a,addNegation:r}}function Mt(e){if(!e)return e;var t=e[0]==="-";t&&(e=e.substring(1,e.length));var a=e.split("."),r=a[0].replace(/^0+/,"")||"0",n=a[1]||"";return(t?"-":"")+r+(n?"."+n:"")}function Ke(e,t,a){for(var r="",n=a?"0":"",i=0;i<=t-1;i++)r+=e[i]||n;return r}function Fe(e,t){return Array(t+1).join(e)}function qe(e){var t=e+"",a=t[0]==="-"?"-":"";a&&(t=t.substring(1));var r=t.split(/[eE]/g),n=r[0],i=r[1];if(i=Number(i),!i)return a+n;n=n.replace(".","");var o=1+i,s=n.length;return o<0?n="0."+Fe("0",Math.abs(o))+n:o>=s?n=n+Fe("0",o-s):n=(n.substring(0,o)||"0")+"."+n.substring(o),a+n}function Me(e,t,a){if(["","-"].indexOf(e)!==-1)return e;var r=(e.indexOf(".")!==-1||a)&&t,n=De(e),i=n.beforeDecimal,o=n.afterDecimal,s=n.hasNegation,l=parseFloat("0."+(o||"0")),b=o.length<=t?"0."+o:l.toFixed(t),w=b.split("."),p=i;i&&Number(w[0])&&(p=i.split("").reverse().reduce(function(x,C,g){return x.length>g?(Number(x[0])+Number(C)).toString()+x.substring(1,x.length):C+x},w[0]));var y=Ke(w[1]||"",t,a),d=s?"-":"",v=r?".":"";return""+d+p+v+y}function ae(e,t){if(e.value=e.value,e!==null){if(e.createTextRange){var a=e.createTextRange();return a.move("character",t),a.select(),!0}return e.selectionStart||e.selectionStart===0?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}var Ge=Tt(function(e,t){for(var a=0,r=0,n=e.length,i=t.length;e[a]===t[a]&&a<n;)a++;for(;e[n-1-r]===t[i-1-r]&&i-r>a&&n-r>a;)r++;return{from:{start:a,end:n-r},to:{start:a,end:i-r}}}),Pt=function(e,t){var a=Math.min(e.selectionStart,t);return{from:{start:a,end:e.selectionEnd},to:{start:a,end:t}}};function $t(e,t,a){return Math.min(Math.max(e,t),a)}function Ie(e){return Math.max(e.selectionStart,e.selectionEnd)}function Lt(){return typeof navigator!="undefined"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function Wt(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}function jt(e){var t=e.currentValue,a=e.formattedValue,r=e.currentValueIndex,n=e.formattedValueIndex;return t[r]===a[n]}function zt(e,t,a,r,n,i,o){o===void 0&&(o=jt);var s=n.findIndex(function(L){return L}),l=e.slice(0,s);!t&&!a.startsWith(l)&&(t=l,a=l+a,r=r+l.length);for(var b=a.length,w=e.length,p={},y=new Array(b),d=0;d<b;d++){y[d]=-1;for(var v=0,x=w;v<x;v++){var C=o({currentValue:a,lastValue:t,formattedValue:e,currentValueIndex:d,formattedValueIndex:v});if(C&&p[v]!==!0){y[d]=v,p[v]=!0;break}}}for(var g=r;g<b&&(y[g]===-1||!i(a[g]));)g++;var N=g===b||y[g]===-1?w:y[g];for(g=r-1;g>0&&y[g]===-1;)g--;var k=g===-1||y[g]===-1?0:y[g]+1;return k>N?N:r-k<N-r?k:N}function Pe(e,t,a,r){var n=e.length;if(t=$t(t,0,n),r==="left"){for(;t>=0&&!a[t];)t--;t===-1&&(t=a.indexOf(!0))}else{for(;t<=n&&!a[t];)t++;t>n&&(t=a.lastIndexOf(!0))}return t===-1&&(t=n),t}function Ut(e){for(var t=Array.from({length:e.length+1}).map(function(){return!0}),a=0,r=t.length;a<r;a++)t[a]=!!(de(e[a])||de(e[a-1]));return t}function Ye(e,t,a,r,n,i){i===void 0&&(i=ee);var o=Ft(function(v,x){var C,g;return ze(v)?(g="",C=""):typeof v=="number"||x?(g=typeof v=="number"?qe(v):v,C=r(g)):(g=n(v,void 0),C=r(g)),{formattedValue:C,numAsString:g}}),s=R.useState(function(){return o(se(e)?t:e,a)}),l=s[0],b=s[1],w=function(v,x){v.formattedValue!==l.formattedValue&&b({formattedValue:v.formattedValue,numAsString:v.value}),i(v,x)},p=e,y=a;se(e)&&(p=l.numAsString,y=!0);var d=o(p,y);return R.useMemo(function(){b(d)},[d.formattedValue]),[l,w]}function Kt(e){return e.replace(/[^0-9]/g,"")}function qt(e){return e}function Gt(e){var t=e.type;t===void 0&&(t="text");var a=e.displayType;a===void 0&&(a="input");var r=e.customInput,n=e.renderText,i=e.getInputRef,o=e.format;o===void 0&&(o=qt);var s=e.removeFormatting;s===void 0&&(s=Kt);var l=e.defaultValue,b=e.valueIsNumericString,w=e.onValueChange,p=e.isAllowed,y=e.onChange;y===void 0&&(y=ee);var d=e.onKeyDown;d===void 0&&(d=ee);var v=e.onMouseUp;v===void 0&&(v=ee);var x=e.onFocus;x===void 0&&(x=ee);var C=e.onBlur;C===void 0&&(C=ee);var g=e.value,N=e.getCaretBoundary;N===void 0&&(N=Ut);var k=e.isValidInputCharacter;k===void 0&&(k=de);var L=e.isCharacterSame,B=je(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),z=Ye(g,l,!!b,o,s,w),K=z[0],m=K.formattedValue,F=K.numAsString,O=z[1],M=R.useRef(),U=R.useRef({formattedValue:m,numAsString:F}),j=function(u,c){U.current={formattedValue:u.formattedValue,numAsString:u.value},O(u,c)},$=R.useState(!1),q=$[0],h=$[1],f=R.useRef(null),I=R.useRef({setCaretTimeout:null,focusTimeout:null});R.useEffect(function(){return h(!0),function(){clearTimeout(I.current.setCaretTimeout),clearTimeout(I.current.focusTimeout)}},[]);var T=o,P=function(u,c){var S=parseFloat(c);return{formattedValue:u,value:c,floatValue:isNaN(S)?void 0:S}},_=function(u,c,S){u.selectionStart===0&&u.selectionEnd===u.value.length||(ae(u,c),I.current.setCaretTimeout=setTimeout(function(){u.value===S&&u.selectionStart!==c&&ae(u,c)},0))},V=function(u,c,S){return Pe(u,c,N(u),S)},Z=function(u,c,S){var E=N(c),W=zt(c,m,u,S,E,k,L);return W=Pe(c,W,E),W},re=function(u){var c=u.formattedValue;c===void 0&&(c="");var S=u.input,E=u.source,W=u.event,A=u.numAsString,D;if(S){var J=u.inputValue||S.value,H=Ie(S);S.value=c,D=Z(J,c,H),D!==void 0&&_(S,D,c)}c!==m&&j(P(c,A),{event:W,source:E})};R.useEffect(function(){var u=U.current,c=u.formattedValue,S=u.numAsString;(m!==c||F!==S)&&j(P(m,F),{event:void 0,source:fe.props})},[m,F]);var ne=f.current?Ie(f.current):void 0,ie=typeof window!="undefined"?R.useLayoutEffect:R.useEffect;ie(function(){var u=f.current;if(m!==U.current.formattedValue&&u){var c=Z(U.current.formattedValue,m,ne);u.value=m,_(u,c,m)}},[m]);var pe=function(u,c,S){var E=c.target,W=M.current?Pt(M.current,E.selectionEnd):Ge(m,u),A=Object.assign(Object.assign({},W),{lastValue:m}),D=s(u,A),J=T(D);if(D=s(J,void 0),p&&!p(P(J,D))){var H=c.target,Q=Ie(H),Se=Z(u,m,Q);return H.value=m,_(H,Se,m),!1}return re({formattedValue:J,numAsString:D,inputValue:u,event:c,source:S,input:c.target}),!0},be=function(u,c){c===void 0&&(c=0);var S=u.selectionStart,E=u.selectionEnd;M.current={selectionStart:S,selectionEnd:E+c}},Je=function(u){var c=u.target,S=c.value,E=pe(S,u,fe.event);E&&y(u),M.current=void 0},Ze=function(u){var c=u.target,S=u.key,E=c.selectionStart,W=c.selectionEnd,A=c.value;A===void 0&&(A="");var D;S==="ArrowLeft"||S==="Backspace"?D=Math.max(E-1,0):S==="ArrowRight"?D=Math.min(E+1,A.length):S==="Delete"&&(D=E);var J=0;S==="Delete"&&E===W&&(J=1);var H=S==="ArrowLeft"||S==="ArrowRight";if(D===void 0||E!==W&&!H){d(u),be(c,J);return}var Q=D;if(H){var Se=S==="ArrowLeft"?"left":"right";Q=V(A,D,Se),Q!==D&&u.preventDefault()}else S==="Delete"&&!k(A[D])?Q=V(A,D,"right"):S==="Backspace"&&!k(A[D])&&(Q=V(A,D,"left"));Q!==D&&_(c,Q,A),d(u),be(c,J)},He=function(u){var c=u.target,S=function(){var E=c.selectionStart,W=c.selectionEnd,A=c.value;if(A===void 0&&(A=""),E===W){var D=V(A,E);D!==E&&_(c,D,A)}};S(),requestAnimationFrame(function(){S()}),v(u),be(c)},Qe=function(u){u.persist&&u.persist();var c=u.target,S=u.currentTarget;f.current=c,I.current.focusTimeout=setTimeout(function(){var E=c.selectionStart,W=c.selectionEnd,A=c.value;A===void 0&&(A="");var D=V(A,E);D!==E&&!(E===0&&W===A.length)&&_(c,D,A),x(Object.assign(Object.assign({},u),{currentTarget:S}))},0)},Xe=function(u){f.current=null,clearTimeout(I.current.focusTimeout),clearTimeout(I.current.setCaretTimeout),C(u)},et=q&&Lt()?"numeric":void 0,Re=Object.assign({inputMode:et},B,{type:t,value:m,onChange:Je,onKeyDown:Ze,onMouseUp:He,onFocus:Qe,onBlur:Xe});if(a==="text")return n?ue.createElement(ue.Fragment,null,n(m,B)||null):ue.createElement("span",Object.assign({},B,{ref:i}),m);if(r){var tt=r;return ue.createElement(tt,Object.assign({},Re,{ref:i}))}return ue.createElement("input",Object.assign({},Re,{ref:i}))}function $e(e,t){var a=t.decimalScale,r=t.fixedDecimalScale,n=t.prefix;n===void 0&&(n="");var i=t.suffix;i===void 0&&(i="");var o=t.allowNegative,s=t.thousandsGroupStyle;if(s===void 0&&(s="thousand"),e===""||e==="-")return e;var l=he(t),b=l.thousandSeparator,w=l.decimalSeparator,p=a!==0&&e.indexOf(".")!==-1||a&&r,y=De(e,o),d=y.beforeDecimal,v=y.afterDecimal,x=y.addNegation;return a!==void 0&&(v=Ke(v,a,!!r)),b&&(d=kt(d,b,s)),n&&(d=n+d),i&&(v=v+i),x&&(d="-"+d),e=d+(p&&w||"")+v,e}function he(e){var t=e.decimalSeparator;t===void 0&&(t=".");var a=e.thousandSeparator,r=e.allowedDecimalSeparators;return a===!0&&(a=","),r||(r=[t,"."]),{decimalSeparator:t,thousandSeparator:a,allowedDecimalSeparators:r}}function Yt(e,t){e===void 0&&(e="");var a=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),n=a.test(e),i=r.test(e);return e=e.replace(/-/g,""),n&&!i&&t&&(e="-"+e),e}function Jt(e,t){return new RegExp("(^-)|[0-9]|"+Ue(e),"g")}function Zt(e,t,a){return e===""?!0:!(t!=null&&t.match(/\d/))&&!(a!=null&&a.match(/\d/))&&typeof e=="string"&&!isNaN(Number(e))}function Ht(e,t,a){var r;t===void 0&&(t=Wt(e));var n=a.allowNegative,i=a.prefix;i===void 0&&(i="");var o=a.suffix;o===void 0&&(o="");var s=a.decimalScale,l=t.from,b=t.to,w=b.start,p=b.end,y=he(a),d=y.allowedDecimalSeparators,v=y.decimalSeparator,x=e[p]===v;if(de(e)&&(e===i||e===o)&&t.lastValue==="")return e;if(p-w===1&&d.indexOf(e[w])!==-1){var C=s===0?"":v;e=e.substring(0,w)+C+e.substring(w+1,e.length)}var g=function(f,I,T){var P=!1,_=!1;i.startsWith("-")?P=!1:f.startsWith("--")?(P=!1,_=!0):o.startsWith("-")&&f.length===o.length?P=!1:f[0]==="-"&&(P=!0);var V=P?1:0;return _&&(V=2),V&&(f=f.substring(V),I-=V,T-=V),{value:f,start:I,end:T,hasNegation:P}},N=g(e,w,p),k=N.hasNegation;r=N,e=r.value,w=r.start,p=r.end;var L=g(t.lastValue,l.start,l.end),B=L.start,z=L.end,K=L.value,m=e.substring(w,p);e.length&&K.length&&(B>K.length-o.length||z<i.length)&&!(m&&o.startsWith(m))&&(e=K);var F=0;e.startsWith(i)?F+=i.length:w<i.length&&(F=w),e=e.substring(F),p-=F;var O=e.length,M=e.length-o.length;e.endsWith(o)?O=M:(p>M||p>e.length-o.length)&&(O=p),e=e.substring(0,O),e=Yt(k?"-"+e:e,n),e=(e.match(Jt(v))||[]).join("");var U=e.indexOf(v);e=e.replace(new RegExp(Ue(v),"g"),function(f,I){return I===U?".":""});var j=De(e,n),$=j.beforeDecimal,q=j.afterDecimal,h=j.addNegation;return b.end-b.start<l.end-l.start&&$===""&&x&&!parseFloat(q)&&(e=h?"-":""),e}function Qt(e,t){var a=t.prefix;a===void 0&&(a="");var r=t.suffix;r===void 0&&(r="");var n=Array.from({length:e.length+1}).map(function(){return!0}),i=e[0]==="-";n.fill(!1,0,a.length+(i?1:0));var o=e.length;return n.fill(!1,o-r.length+1,o+1),n}function Xt(e){var t=he(e),a=t.thousandSeparator,r=t.decimalSeparator,n=e.prefix;n===void 0&&(n="");var i=e.allowNegative;if(i===void 0&&(i=!0),a===r)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+a+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+r+` (default value for decimalSeparator is .)
     `);return n.startsWith("-")&&i&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+n+`
      allowNegative: `+i+`
    `),i=!1),Object.assign(Object.assign({},e),{allowNegative:i})}function ea(e){e=Xt(e),e.decimalSeparator,e.allowedDecimalSeparators,e.thousandsGroupStyle;var t=e.suffix,a=e.allowNegative,r=e.allowLeadingZeros,n=e.onKeyDown;n===void 0&&(n=ee);var i=e.onBlur;i===void 0&&(i=ee);var o=e.thousandSeparator,s=e.decimalScale,l=e.fixedDecimalScale,b=e.prefix;b===void 0&&(b="");var w=e.defaultValue,p=e.value,y=e.valueIsNumericString,d=e.onValueChange,v=je(e,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),x=he(e),C=x.decimalSeparator,g=x.allowedDecimalSeparators,N=function(h){return $e(h,e)},k=function(h,f){return Ht(h,f,e)},L=se(p)?w:p,B=y!=null?y:Zt(L,b,t);se(p)?se(w)||(B=B||typeof w=="number"):B=B||typeof p=="number";var z=function(h){return ze(h)?h:(typeof h=="number"&&(h=qe(h)),B&&typeof s=="number"?Me(h,s,!!l):h)},K=Ye(z(p),z(w),!!B,N,k,d),m=K[0],F=m.numAsString,O=m.formattedValue,M=K[1],U=function(h){var f=h.target,I=h.key,T=f.selectionStart,P=f.selectionEnd,_=f.value;if(_===void 0&&(_=""),(I==="Backspace"||I==="Delete")&&P<b.length){h.preventDefault();return}if(T!==P){n(h);return}I==="Backspace"&&_[0]==="-"&&T===b.length+1&&a&&ae(f,1),s&&l&&(I==="Backspace"&&_[T-1]===C?(ae(f,T-1),h.preventDefault()):I==="Delete"&&_[T]===C&&h.preventDefault()),g!=null&&g.includes(I)&&_[T]===C&&ae(f,T+1);var V=o===!0?",":o;I==="Backspace"&&_[T-1]===V&&ae(f,T-1),I==="Delete"&&_[T]===V&&ae(f,T+1),n(h)},j=function(h){var f=F;if(f.match(/\d/g)||(f=""),r||(f=Mt(f)),l&&s&&(f=Me(f,s,l)),f!==F){var I=$e(f,e);M({formattedValue:I,value:f,floatValue:parseFloat(f)},{event:h,source:fe.event})}i(h)},$=function(h){return h===C?!0:de(h)},q=function(h){var f=h.currentValue,I=h.lastValue,T=h.formattedValue,P=h.currentValueIndex,_=h.formattedValueIndex,V=f[P],Z=T[_],re=Ge(I,f),ne=re.to,ie=function(pe){return k(pe).indexOf(".")+b.length};return p===0&&l&&s&&f[ne.start]===C&&ie(f)<P&&ie(T)>_?!1:P>=ne.start&&P<ne.end&&g&&g.includes(V)&&Z===C?!0:V===Z};return Object.assign(Object.assign({},v),{value:O,valueIsNumericString:!1,isValidInputCharacter:$,isCharacterSame:q,onValueChange:M,format:N,removeFormatting:k,getCaretBoundary:function(h){return Qt(h,e)},onKeyDown:U,onBlur:j})}function la(e){var t=ea(e);return ue.createElement(Gt,Object.assign({},t))}export{sa as C,la as N,na as S,oa as T,Ot as a,ia as b,ua as c,Vt as d,Rt as u};
