var y=Object.defineProperty,b=Object.defineProperties;var g=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var j=(o,e,s)=>e in o?y(o,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[e]=s,i=(o,e)=>{for(var s in e||(e={}))P.call(e,s)&&j(o,s,e[s]);if(x)for(var s of x(e))R.call(e,s)&&j(o,s,e[s]);return o},m=(o,e)=>b(o,g(e));var p=(o,e,s)=>new Promise((c,t)=>{var a=n=>{try{l(s.next(n))}catch(u){t(u)}},d=n=>{try{l(s.throw(n))}catch(u){t(u)}},l=n=>n.done?c(n.value):Promise.resolve(n.value).then(a,d);l((s=s.apply(o,e)).next())});import{a as E,b as N,n as O,h as k,bE as I,O as L,u as A,e as C,j as r,F as T,f as h,g as f,i as S,k as w,l as F,S as B,D}from"./index-ER8oZ0LV.js";import{A as G}from"./AuthLayout-DDcLlBvX.js";import{c as M}from"./schemas-CovbQ7JT.js";import{P as v}from"./PassInputWithToggle-Cvo4MpxU.js";import"./react-DaZ2_hLt.js";import"./schemas-DolQb7Cl.js";import"./ParallaxContainer-BDXSVRZX.js";import"./card-D5ex2cAF.js";function U(o,e,s){return p(this,null,function*(){try{return yield E.account.updateRecovery(e,s,o.password),N("Пароль успешно обновлён"),{ok:!0}}catch(c){return O("Невозможно восстановить пароль"),k(c)}})}function V(){const[o]=I(),{userId:e,secret:s}=Object.fromEntries(o),c=L(),t=A({resolver:C(M),defaultValues:{password:"",confirmPassword:""}});return r.jsx(T,m(i({},t),{children:r.jsxs("form",{className:"space-y-6",onSubmit:t.handleSubmit(a=>p(null,null,function*(){const{ok:d}=yield U(a,e,s);d&&c(D.LOGIN)})),children:[r.jsx(h,{control:t.control,name:"password",render:({field:a})=>r.jsxs(f,{children:[r.jsxs(S,{htmlFor:"password",children:["Новый пароль",r.jsx("span",{className:"text-destructive",children:"*"})]}),r.jsx(w,{children:r.jsx(v,m(i({},a),{id:"password"}))}),r.jsx(F,{})]})}),r.jsx(h,{control:t.control,name:"confirmPassword",render:({field:a})=>r.jsxs(f,{children:[r.jsxs(S,{htmlFor:"confirmPassword",children:["Повторите пароль",r.jsx("span",{className:"text-destructive",children:"*"})]}),r.jsx(w,{children:r.jsx(v,m(i({},a),{id:"password"}))}),r.jsx(F,{})]})}),r.jsx(B,{isSubmitting:t.formState.isSubmitting,text:"Сохранить"})]})}))}function W(){return r.jsx(G,{title:"Восстановление пароля",description:"Придумайте новый пароль для восстановления доступа к аккаунту",form:r.jsx(V,{})})}const _=W;export{_ as Component};
